/*! For license information please see main.7a741dcb.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:o.current}}t.jsx=u,t.jsxs=u},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var E=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!T.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:k.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+x(l,0):s,E(a)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),N(a,t,i,"",function(e){return e})):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",E(e))for(var u=0;u<e.length;u++){var c=s+x(o=e[u],u);l+=N(o,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(o=e.next()).done;)l+=N(o=o.value,t,i,c=s+x(o,u++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:k};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=w,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!T.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function E(e){if(g=!1,b(e),!m)if(null!==r(u))m=!0,P(S);else{var t=r(c);null!==t&&O(E,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var s=f;try{for(b(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!N());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(u)&&i(u),b(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&O(E,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,T=!1,_=null,C=-1,I=5,x=-1;function N(){return!(t.unstable_now()-x<I)}function A(){if(null!==_){var e=t.unstable_now();x=e;var n=!0;try{n=_(!0,e)}finally{n?k():(T=!1,_=null)}}else T=!1}if("function"===typeof w)k=function(){w(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,R=D.port2;D.port1.onmessage=A,k=function(){R.postMessage(null)}}else k=function(){v(A,0)};function P(e){_=e,T||(T=!0,k())}function O(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(y(C),C=-1):g=!0,O(E,s-a))):(e.sortIndex=o,n(u,e),m||p||(m=!0,P(S))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,j=Object.assign;function U(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function V(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Us){var r=Us}Reflect.construct(e,[],t)}else{try{t.call()}catch(Us){r=Us}e.call(t.prototype)}else{try{throw Error()}catch(Us){r=Us}e()}}catch(Us){if(Us&&r&&"string"===typeof Us.stack){for(var i=Us.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case _:return"Profiler";case T:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(tc){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){$(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function se(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Te=null;function _e(e){if(e=wi(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=Ei(t),Se(e.stateNode,e.type,t))}}function Ce(e){ke?Te?Te.push(e):Te=[e]:ke=e}function Ie(){if(ke){var e=ke,t=Te;if(Te=ke=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function xe(e,t){return e(t)}function Ne(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return xe(e,t,n)}finally{Ae=!1,(null!==ke||null!==Te)&&(Ne(),Ie())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Pe=!1;if(c)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ce){Pe=!1}function Me(e,t,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Le=!1,je=null,Ue=!1,Fe=null,Ve={onError:function(e){Le=!0,je=e}};function ze(e,t,n,r,i,s,a,o,l){Le=!1,je=null,Me.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(s(188))}function He(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qe(i),e;if(a===r)return qe(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!==(s&=a)&&(r=ht(s))}else 0!==(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,St,kt,Tt,_t,Ct=!1,It=[],xt=null,Nt=null,At=null,Dt=new Map,Rt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void _t(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Vt(){Ct=!1,null!==xt&&Ut(xt)&&(xt=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==At&&Ut(At)&&(At=null),Dt.forEach(Ft),Rt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<It.length){zt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&zt(xt,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Dt.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)jt(n),null===n.blockedOn&&Pt.shift()}var Wt=b.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var i=wt,s=Wt.transition;Wt.transition=null;try{wt=1,Gt(e,t,n,r)}finally{wt=i,Wt.transition=s}}function Kt(e,t,n,r){var i=wt,s=Wt.transition;Wt.transition=null;try{wt=4,Gt(e,t,n,r)}finally{wt=i,Wt.transition=s}}function Gt(e,t,n,r){if(qt){var i=Yt(e,t,n,r);if(null===i)qr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Lt(xt,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Dt.set(s,Lt(Dt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rt.set(s,Lt(Rt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&Et(s),null===(s=Yt(e,t,n,r))&&qr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=Ee(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(un),hn=j({},un,{view:0,detail:0}),dn=sn(hn),fn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(j({},fn,{dataTransfer:0})),gn=sn(j({},hn,{relatedTarget:0})),vn=sn(j({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(yn),bn=sn(j({},un,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function _n(){return Tn}var Cn=j({},hn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=sn(Cn),xn=sn(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),An=sn(j({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(Dn),Pn=[9,13,27,32],On=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Mn,jn=c&&(!On||Mn&&8<Mn&&11>=Mn),Un=String.fromCharCode(32),Fn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ce(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Ur(e,0)}function Yn(e){if(G(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,Ee(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function sr(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},kr={},Tr={};function _r(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return kr[e]=n[t];return e}c&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Cr=_r("animationend"),Ir=_r("animationiteration"),xr=_r("animationstart"),Nr=_r("transitionend"),Ar=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),l(t,[e])}for(var Pr=0;Pr<Dr.length;Pr++){var Or=Dr[Pr];Rr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Rr(Cr,"onAnimationEnd"),Rr(Ir,"onAnimationIteration"),Rr(xr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,u){if(ze.apply(this,arguments),Le){if(!Le)throw Error(s(198));var c=je;Le=!1,je=null,Ue||(Ue=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;jr(i,o,u),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;jr(i,o,u),s=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Xt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}De(function(){var r=s,i=Ee(n),a=[];e:{var o=Ar.get(e);if(void 0!==o){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Cr:case Ir:case xr:l=vn;break;case Nr:l=An;break;case"scroll":l=dn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==o?o+"Capture":null:o;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Re(p,d))&&c.push(Hr(p,m,f)))),h)break;p=p.return}0<c.length&&(o=new l(o,u,null,n,i),a.push({event:o,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(h=Be(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=xn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:bi(l),f=null==u?o:bi(u),(o=new c(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,yi(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)c=Gr(c),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Gr(c),d=Gr(d)}c=null}else c=null;null!==l&&Qr(a,o,l,c,!1),null!==u&&null!==h&&Qr(a,h,u,c,!0)}if("select"===(l=(o=r?bi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Xn;else if(qn(o))if($n)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Hn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?bi(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Bn?Vn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Bn&&(y=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Bn=!0)),0<(v=Kr(r,w)).length&&(w=new bn(w,e,null,n,i),a.push({event:w,listeners:v}),y?w.data=y:null!==(y=zn(n))&&(w.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=Jt=$t=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Ur(a,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Re(e,n))&&r.unshift(Hr(e,s,i)),null!=(s=Re(e,t))&&r.push(Hr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,i?null!=(l=Re(n,s))&&a.unshift(Hr(n,l,o)):i||null!=(l=Re(n,s))&&a.push(Hr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ei(e){return e[fi]||null}var Si=[],ki=-1;function Ti(e){return{current:e}}function _i(e){0>ki||(e.current=Si[ki],Si[ki]=null,ki--)}function Ci(e,t){ki++,Si[ki]=e.current,e.current=t}var Ii={},xi=Ti(Ii),Ni=Ti(!1),Ai=Ii;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){_i(Ni),_i(xi)}function Oi(e,t,n){if(xi.current!==Ii)throw Error(s(168));Ci(xi,t),Ci(Ni,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,W(e)||"Unknown",i));return j({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ai=xi.current,Ci(xi,e),Ci(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Mi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,_i(Ni),_i(xi),Ci(xi,e)):_i(Ni),Ci(Ni,n)}var Ui=null,Fi=!1,Vi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=wt;try{var n=Ui;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ge(Ze,Bi),i}finally{wt=t,Vi=!1}}return null}var Wi=[],qi=0,Hi=null,Ki=0,Gi=[],Qi=0,Yi=null,Xi=1,$i="";function Ji(e,t){Wi[qi++]=Ki,Wi[qi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=$i,Gi[Qi++]=Yi,Yi=e;var r=Xi;e=$i;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,$i=s+e}else Xi=1<<s|n<<i|r,$i=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Hi;)Hi=Wi[--qi],Wi[qi]=null,Ki=Wi[--qi],Wi[qi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Lu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Lu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ui(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return cs(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)as(e,t),t=ui(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ui(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ui(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function ws(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Uu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===k?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Fu(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Vu(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Fu(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case S:return(t=Wu(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Vu(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?u(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:h(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return h(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,o,l){for(var u=null,c=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,o[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=a(v,s,m),null===c?u=v:c.sibling=v,c=v,h=g}if(m===o.length)return n(i,h),is&&Ji(i,m),u;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(s=a(h,s,m),null===c?u=h:c.sibling=h,c=h);return is&&Ji(i,m),u}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach(function(e){return t(i,e)}),is&&Ji(i,m),u}function g(i,o,l,u){var c=M(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,u);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),o=a(w,o,g),null===h?c=w:h.sibling=w,h=w,m=v}if(y.done)return n(i,m),is&&Ji(i,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,u))&&(o=a(y,o,g),null===h?c=y:h.sibling=y,h=y);return is&&Ji(i,g),c}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===h?c=y:h.sibling=y,h=y);return e&&m.forEach(function(e){return t(i,e)}),is&&Ji(i,g),c}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case E:e:{for(var u=a.key,c=s;null!==c;){if(c.key===u){if((u=a.type)===k){if(7===c.tag){n(r,c.sibling),(s=i(c,a.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===R&&ys(u)===c.type){n(r,c.sibling),(s=i(c,a.props)).ref=gs(r,c,a),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===k?((s=Vu(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Fu(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case S:e:{for(c=a.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Wu(a,r.mode,l)).return=r,r=s}return o(r);case R:return e(r,s,(c=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(M(a))return g(r,s,a,l);vs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Bu(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var bs=ws(!0),Es=ws(!1),Ss=Ti(null),ks=null,Ts=null,_s=null;function Cs(){_s=Ts=ks=null}function Is(e){var t=Ss.current;_i(Ss),e._currentValue=t}function xs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t){ks=e,_s=Ts=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(To=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(_s!==e)if(e={context:e,memoizedValue:t,next:null},null===Ts){if(null===ks)throw Error(s(308));Ts=e,ks.dependencies={lanes:0,firstContext:e}}else Ts=Ts.next=e;return t}var Ds=null;function Rs(e){null===Ds?Ds=[e]:Ds.push(e)}function Ps(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Rs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ms(e,r)}function Ms(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ls=!1;function js(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ms(e,n)}return null===(i=r.interleaved)?(t.next=t,Rs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ms(e,n)}function Bs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ws(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qs(e,t,n,r){var i=e.updateQueue;Ls=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===a?s=u:a.next=u,a=l;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,c=u=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=j({},h,d);break e;case 2:Ls=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);zl|=a,e.lanes=a,e.memoizedState=h}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Ks={},Qs=Ti(Ks),Ys=Ti(Ks),Xs=Ti(Ks);function Js(e){if(e===Ks)throw Error(s(174));return e}function Zs(e,t){switch(Ci(Xs,t),Ci(Ys,e),Ci(Qs,Ks),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Qs),Ci(Qs,t)}function ea(){_i(Qs),_i(Ys),_i(Xs)}function ta(e){Js(Xs.current);var t=Js(Qs.current),n=le(t,e.type);t!==n&&(Ci(Ys,e),Ci(Qs,n))}function na(e){Ys.current===e&&(_i(Qs),_i(Ys))}var ra=Ti(0);function ia(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sa=[];function aa(){for(var e=0;e<sa.length;e++)sa[e]._workInProgressVersionPrimary=null;sa.length=0}var oa=b.ReactCurrentDispatcher,la=b.ReactCurrentBatchConfig,ua=0,ca=null,ha=null,da=null,fa=!1,pa=!1,ma=0,ga=0;function va(){throw Error(s(321))}function ya(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function wa(e,t,n,r,i,a){if(ua=a,ca=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?no:ro,e=n(r,i),pa){a=0;do{if(pa=!1,ma=0,25<=a)throw Error(s(301));a+=1,da=ha=null,t.updateQueue=null,oa.current=io,e=n(r,i)}while(pa)}if(oa.current=to,t=null!==ha&&null!==ha.next,ua=0,da=ha=ca=null,fa=!1,t)throw Error(s(300));return e}function ba(){var e=0!==ma;return ma=0,e}function Ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===da?ca.memoizedState=da=e:da=da.next=e,da}function Sa(){if(null===ha){var e=ca.alternate;e=null!==e?e.memoizedState:null}else e=ha.next;var t=null===da?ca.memoizedState:da.next;if(null!==t)da=t,ha=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ha=e).memoizedState,baseState:ha.baseState,baseQueue:ha.baseQueue,queue:ha.queue,next:null},null===da?ca.memoizedState=da=e:da=da.next=e}return da}function ka(e,t){return"function"===typeof t?t(e):t}function Ta(e){var t=Sa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ha,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,u=null,c=a;do{var h=c.lane;if((ua&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,o=r):u=u.next=d,ca.lanes|=h,zl|=h}c=c.next}while(null!==c&&c!==a);null===u?o=r:u.next=l,or(r,t.memoizedState)||(To=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ca.lanes|=a,zl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _a(e){var t=Sa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(To=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ca(){}function Ia(e,t){var n=ca,r=Sa(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,To=!0),r=r.queue,Fa(Aa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==da&&1&da.memoizedState.tag){if(n.flags|=2048,Oa(9,Na.bind(null,n,r,i,t),void 0,null),null===Ol)throw Error(s(349));0!==(30&ua)||xa(n,t,i)}return i}function xa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ca.updateQueue)?(t={lastEffect:null,stores:null},ca.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Na(e,t,n,r){t.value=n,t.getSnapshot=r,Da(t)&&Ra(e)}function Aa(e,t,n){return n(function(){Da(t)&&Ra(e)})}function Da(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ra(e){var t=Ms(e,1);null!==t&&ou(t,e,1,-1)}function Pa(e){var t=Ea();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t.queue=e,e=e.dispatch=$a.bind(null,ca,e),[t.memoizedState,e]}function Oa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ca.updateQueue)?(t={lastEffect:null,stores:null},ca.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ma(){return Sa().memoizedState}function La(e,t,n,r){var i=Ea();ca.flags|=e,i.memoizedState=Oa(1|t,n,void 0,void 0===r?null:r)}function ja(e,t,n,r){var i=Sa();r=void 0===r?null:r;var s=void 0;if(null!==ha){var a=ha.memoizedState;if(s=a.destroy,null!==r&&ya(r,a.deps))return void(i.memoizedState=Oa(t,n,s,r))}ca.flags|=e,i.memoizedState=Oa(1|t,n,s,r)}function Ua(e,t){return La(8390656,8,e,t)}function Fa(e,t){return ja(2048,8,e,t)}function Va(e,t){return ja(4,2,e,t)}function za(e,t){return ja(4,4,e,t)}function Ba(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ja(4,4,Ba.bind(null,t,e),n)}function qa(){}function Ha(e,t){var n=Sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ya(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ka(e,t){var n=Sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ya(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ga(e,t,n){return 0===(21&ua)?(e.baseState&&(e.baseState=!1,To=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ca.lanes|=n,zl|=n,e.baseState=!0),t)}function Qa(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=la.transition;la.transition={};try{e(!1),t()}finally{wt=n,la.transition=r}}function Ya(){return Sa().memoizedState}function Xa(e,t,n){var r=au(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ja(e))Za(t,n);else if(null!==(n=Ps(e,t,n,r))){ou(n,e,r,su()),eo(n,t,r)}}function $a(e,t,n){var r=au(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ja(e))Za(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Rs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(Us){}null!==(n=Ps(e,t,i,r))&&(ou(n,e,r,i=su()),eo(n,t,r))}}function Ja(e){var t=e.alternate;return e===ca||null!==t&&t===ca}function Za(e,t){pa=fa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var to={readContext:As,useCallback:va,useContext:va,useEffect:va,useImperativeHandle:va,useInsertionEffect:va,useLayoutEffect:va,useMemo:va,useReducer:va,useRef:va,useState:va,useDebugValue:va,useDeferredValue:va,useTransition:va,useMutableSource:va,useSyncExternalStore:va,useId:va,unstable_isNewReconciler:!1},no={readContext:As,useCallback:function(e,t){return Ea().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Ua,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,La(4194308,4,Ba.bind(null,t,e),n)},useLayoutEffect:function(e,t){return La(4194308,4,e,t)},useInsertionEffect:function(e,t){return La(4,2,e,t)},useMemo:function(e,t){var n=Ea();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ea();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xa.bind(null,ca,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ea().memoizedState=e},useState:Pa,useDebugValue:qa,useDeferredValue:function(e){return Ea().memoizedState=e},useTransition:function(){var e=Pa(!1),t=e[0];return e=Qa.bind(null,e[1]),Ea().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ca,i=Ea();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ol)throw Error(s(349));0!==(30&ua)||xa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ua(Aa.bind(null,r,a,e),[e]),r.flags|=2048,Oa(9,Na.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ea(),t=Ol.identifierPrefix;if(is){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=ma++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ga++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ro={readContext:As,useCallback:Ha,useContext:As,useEffect:Fa,useImperativeHandle:Wa,useInsertionEffect:Va,useLayoutEffect:za,useMemo:Ka,useReducer:Ta,useRef:Ma,useState:function(){return Ta(ka)},useDebugValue:qa,useDeferredValue:function(e){return Ga(Sa(),ha.memoizedState,e)},useTransition:function(){return[Ta(ka)[0],Sa().memoizedState]},useMutableSource:Ca,useSyncExternalStore:Ia,useId:Ya,unstable_isNewReconciler:!1},io={readContext:As,useCallback:Ha,useContext:As,useEffect:Fa,useImperativeHandle:Wa,useInsertionEffect:Va,useLayoutEffect:za,useMemo:Ka,useReducer:_a,useRef:Ma,useState:function(){return _a(ka)},useDebugValue:qa,useDeferredValue:function(e){var t=Sa();return null===ha?t.memoizedState=e:Ga(t,ha.memoizedState,e)},useTransition:function(){return[_a(ka)[0],Sa().memoizedState]},useMutableSource:Ca,useSyncExternalStore:Ia,useId:Ya,unstable_isNewReconciler:!1};function so(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ao(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=su(),i=au(e),s=Vs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,i))&&(ou(t,e,i,r),Bs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=su(),i=au(e),s=Vs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,i))&&(ou(t,e,i,r),Bs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=su(),r=au(e),i=Vs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=zs(e,i,r))&&(ou(t,e,r,n),Bs(t,e,r))}};function lo(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function uo(e,t,n){var r=!1,i=Ii,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(i=Ri(t)?Ai:xi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ii),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function co(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oo.enqueueReplaceState(t,t.state,null)}function ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},js(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=As(s):(s=Ri(t)?Ai:xi.current,i.context=Di(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ao(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&oo.enqueueReplaceState(i,i.state,null),qs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function fo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function po(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function mo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var go="function"===typeof WeakMap?WeakMap:Map;function vo(e,t,n){(n=Vs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yl||(Yl=!0,Xl=r),mo(0,t)},n}function yo(e,t,n){(n=Vs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){mo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){mo(0,t),"function"!==typeof r&&(null===$l?$l=new Set([this]):$l.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function wo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new go;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Au.bind(null,e,t,n),t.then(e,e))}function bo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function So(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Vs(-1,1)).tag=2,zs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ko=b.ReactCurrentOwner,To=!1;function _o(e,t,n,r){t.child=null===e?Es(t,null,n,r):bs(t,e.child,n,r)}function Co(e,t,n,r,i){n=n.render;var s=t.ref;return Ns(t,i),r=wa(e,t,n,r,s,i),n=ba(),null===e||To?(is&&n&&es(t),t.flags|=1,_o(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yo(e,t,i))}function Io(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||ju(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,xo(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Yo(e,t,i)}return t.flags|=1,(e=Uu(s,r)).ref=t.ref,e.return=t,t.child=e}function xo(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(To=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Yo(e,t,i);0!==(131072&e.flags)&&(To=!0)}}return Do(e,t,n,r,i)}function No(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Ul,jl),jl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Ul,jl),jl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ci(Ul,jl),jl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ci(Ul,jl),jl|=r;return _o(e,t,i,n),t.child}function Ao(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Do(e,t,n,r,i){var s=Ri(n)?Ai:xi.current;return s=Di(t,s),Ns(t,i),n=wa(e,t,n,r,s,i),r=ba(),null===e||To?(is&&r&&es(t),t.flags|=1,_o(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yo(e,t,i))}function Ro(e,t,n,r,i){if(Ri(n)){var s=!0;Li(t)}else s=!1;if(Ns(t,i),null===t.stateNode)Qo(e,t),uo(t,n,r),ho(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=As(u):u=Di(t,u=Ri(n)?Ai:xi.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==u)&&co(t,a,r,u),Ls=!1;var d=t.memoizedState;a.state=d,qs(t,r,a,i),l=t.memoizedState,o!==r||d!==l||Ni.current||Ls?("function"===typeof c&&(ao(t,n,c,r),l=t.memoizedState),(o=Ls||lo(t,n,o,r,d,l,u))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fs(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:so(t.type,o),a.props=u,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=As(l):l=Di(t,l=Ri(n)?Ai:xi.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&co(t,a,r,l),Ls=!1,d=t.memoizedState,a.state=d,qs(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||Ni.current||Ls?("function"===typeof f&&(ao(t,n,f,r),p=t.memoizedState),(u=Ls||lo(t,n,u,r,d,p,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Po(e,t,n,r,s,i)}function Po(e,t,n,r,i,s){Ao(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&ji(t,n,!1),Yo(e,t,s);r=t.stateNode,ko.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,o,s)):_o(e,t,o,s),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Oo(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Zs(e,t.containerInfo)}function Mo(e,t,n,r,i){return fs(),ps(i),t.flags|=256,_o(e,t,n,r),t.child}var Lo,jo,Uo,Fo,Vo={dehydrated:null,treeContext:null,retryLane:0};function zo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bo(e,t,n){var r,i=t.pendingProps,a=ra.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ci(ra,1&a),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=zu(l,i,0,null),e=Vu(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=zo(n),t.memoizedState=Vo,e):Wo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,qo(e,t,o,r=po(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=zu({mode:"visible",children:r.children},i,0,null),(a=Vu(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&bs(t,e.child,null,o),t.child.memoizedState=zo(o),t.memoizedState=Vo,a);if(0===(1&t.mode))return qo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,qo(e,t,o,r=po(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),To||l){if(null!==(r=Ol)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ms(e,i),ou(r,e,i,-1))}return bu(),qo(e,t,o,r=po(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ru.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ui(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=$i,Gi[Qi++]=Yi,Xi=e.id,$i=e.overflow,Yi=t),t=Wo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Uu(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Uu(r,o):(o=Vu(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?zo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Vo,i}return e=(o=e.child).sibling,i=Uu(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Wo(e,t){return(t=zu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function qo(e,t,n,r){return null!==r&&ps(r),bs(t,e.child,null,n),(e=Wo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ho(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xs(e.return,t,n)}function Ko(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Go(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_o(e,t,r.children,n),0!==(2&(r=ra.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ho(e,n,t);else if(19===e.tag)Ho(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(ra,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ia(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ko(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ia(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ko(t,!0,n,null,s);break;case"together":Ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Uu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Uu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xo(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $o(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Jo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $o(t),null;case 1:case 17:return Ri(t.type)&&Pi(),$o(t),null;case 3:return r=t.stateNode,ea(),_i(Ni),_i(xi),aa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(hu(ss),ss=null))),jo(e,t),$o(t),null;case 5:na(t);var i=Js(Xs.current);if(n=t.type,null!==e&&null!=t.stateNode)Uo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return $o(t),null}if(e=Js(Qs.current),hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Fr(Mr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":ie(r,a),Fr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):o.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Lo(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Fr(Mr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(a in ye(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Fr("scroll",e):null!=c&&w(e,a,c,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $o(t),null;case 6:if(e&&null!=t.stateNode)Fo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Js(Xs.current),Js(Qs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return $o(t),null;case 13:if(_i(ra),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,a=!1;else if(a=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$o(t),a=!1}else null!==ss&&(hu(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ra.current)?0===Fl&&(Fl=3):bu())),null!==t.updateQueue&&(t.flags|=4),$o(t),null);case 4:return ea(),jo(e,t),null===e&&Br(t.stateNode.containerInfo),$o(t),null;case 10:return Is(t.type._context),$o(t),null;case 19:if(_i(ra),null===(a=t.memoizedState))return $o(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Xo(a,!1);else{if(0!==Fl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ia(e))){for(t.flags|=128,Xo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(ra,1&ra.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>Gl&&(t.flags|=128,r=!0,Xo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ia(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Xo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return $o(t),null}else 2*$e()-a.renderingStartTime>Gl&&1073741824!==n&&(t.flags|=128,r=!0,Xo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=ra.current,Ci(ra,r?1&n|2:1&n),t):($o(t),null);case 22:case 23:return gu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&jl)&&($o(t),6&t.subtreeFlags&&(t.flags|=8192)):$o(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Zo(e,t){switch(ts(t),t.tag){case 1:return Ri(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ea(),_i(Ni),_i(xi),aa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return na(t),null;case 13:if(_i(ra),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(ra),null;case 4:return ea(),null;case 10:return Is(t.type._context),null;case 22:case 23:return gu(),null;default:return null}}Lo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},jo=function(){},Uo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Js(Qs.current);var s,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Fr("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Fo=function(e,t,n,r){n!==r&&(t.flags|=4)};var el=!1,tl=!1,nl="function"===typeof WeakSet?WeakSet:Set,rl=null;function il(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Nu(e,t,r)}else n.current=null}function sl(e,t,n){try{n()}catch(r){Nu(e,t,r)}}var al=!1;function ol(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&sl(t,n,s)}i=i.next}while(i!==r)}}function ll(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ul(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function cl(e){var t=e.alternate;null!==t&&(e.alternate=null,cl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hl(e){return 5===e.tag||3===e.tag||4===e.tag}function dl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||hl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function fl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(fl(e,t,n),e=e.sibling;null!==e;)fl(e,t,n),e=e.sibling}function pl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(pl(e,t,n),e=e.sibling;null!==e;)pl(e,t,n),e=e.sibling}var ml=null,gl=!1;function vl(e,t,n){for(n=n.child;null!==n;)yl(e,t,n),n=n.sibling}function yl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:tl||il(n,t);case 6:var r=ml,i=gl;ml=null,vl(e,t,n),gl=i,null!==(ml=r)&&(gl?(e=ml,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ml.removeChild(n.stateNode));break;case 18:null!==ml&&(gl?(e=ml,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ml,n.stateNode));break;case 4:r=ml,i=gl,ml=n.stateNode.containerInfo,gl=!0,vl(e,t,n),ml=r,gl=i;break;case 0:case 11:case 14:case 15:if(!tl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&sl(n,t,a),i=i.next}while(i!==r)}vl(e,t,n);break;case 1:if(!tl&&(il(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Nu(n,t,o)}vl(e,t,n);break;case 21:vl(e,t,n);break;case 22:1&n.mode?(tl=(r=tl)||null!==n.memoizedState,vl(e,t,n),tl=r):vl(e,t,n);break;default:vl(e,t,n)}}function wl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new nl),t.forEach(function(t){var r=Pu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function bl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ml=l.stateNode,gl=!1;break e;case 3:case 4:ml=l.stateNode.containerInfo,gl=!0;break e}l=l.return}if(null===ml)throw Error(s(160));yl(a,o,i),ml=null,gl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(Us){Nu(i,t,Us)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)El(t,e),t=t.sibling}function El(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bl(t,e),Sl(e),4&r){try{ol(3,e,e.return),ll(3,e)}catch(g){Nu(e,e.return,g)}try{ol(5,e,e.return)}catch(g){Nu(e,e.return,g)}}break;case 1:bl(t,e),Sl(e),512&r&&null!==n&&il(n,n.return);break;case 5:if(bl(t,e),Sl(e),512&r&&null!==n&&il(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Nu(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&$(i,a),we(l,o);var c=we(l,a);for(o=0;o<u.length;o+=2){var h=u[o],d=u[o+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,c)}switch(l){case"input":J(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Nu(e,e.return,g)}}break;case 6:if(bl(t,e),Sl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Nu(e,e.return,g)}}break;case 3:if(bl(t,e),Sl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Nu(e,e.return,g)}break;case 4:default:bl(t,e),Sl(e);break;case 13:bl(t,e),Sl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Kl=$e())),4&r&&wl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(tl=(c=tl)||h,bl(t,e),tl=c):bl(t,e),Sl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(rl=e,h=e.child;null!==h;){for(d=rl=h;null!==rl;){switch(p=(f=rl).child,f.tag){case 0:case 11:case 14:case 15:ol(4,f,f.return);break;case 1:il(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Nu(r,n,g)}}break;case 5:il(f,f.return);break;case 22:if(null!==f.memoizedState){Cl(d);continue}}null!==p?(p.return=f,rl=p):Cl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",o))}catch(g){Nu(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Nu(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:bl(t,e),Sl(e),4&r&&wl(e);case 21:}}function Sl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(hl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),pl(e,dl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;fl(e,dl(e),a);break;default:throw Error(s(161))}}catch(Os){Nu(e,e.return,Os)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function kl(e,t,n){rl=e,Tl(e,t,n)}function Tl(e,t,n){for(var r=0!==(1&e.mode);null!==rl;){var i=rl,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||el;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||tl;o=el;var u=tl;if(el=a,(tl=l)&&!u)for(rl=i;null!==rl;)l=(a=rl).child,22===a.tag&&null!==a.memoizedState?Il(i):null!==l?(l.return=a,rl=l):Il(i);for(;null!==s;)rl=s,Tl(s,t,n),s=s.sibling;rl=i,el=o,tl=u}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,rl=s):_l(e)}}function _l(e){for(;null!==rl;){var t=rl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:tl||ll(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!tl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:so(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Hs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(s(163))}tl||512&t.flags&&ul(t)}catch(Gs){Nu(t,t.return,Gs)}}if(t===e){rl=null;break}if(null!==(n=t.sibling)){n.return=t.return,rl=n;break}rl=t.return}}function Cl(e){for(;null!==rl;){var t=rl;if(t===e){rl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,rl=n;break}rl=t.return}}function Il(e){for(;null!==rl;){var t=rl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ll(4,t)}catch(Os){Nu(t,n,Os)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(Os){Nu(t,i,Os)}}var s=t.return;try{ul(t)}catch(Os){Nu(t,s,Os)}break;case 5:var a=t.return;try{ul(t)}catch(Os){Nu(t,a,Os)}}}catch(Os){Nu(t,t.return,Os)}if(t===e){rl=null;break}var o=t.sibling;if(null!==o){o.return=t.return,rl=o;break}rl=t.return}}var xl,Nl=Math.ceil,Al=b.ReactCurrentDispatcher,Dl=b.ReactCurrentOwner,Rl=b.ReactCurrentBatchConfig,Pl=0,Ol=null,Ml=null,Ll=0,jl=0,Ul=Ti(0),Fl=0,Vl=null,zl=0,Bl=0,Wl=0,ql=null,Hl=null,Kl=0,Gl=1/0,Ql=null,Yl=!1,Xl=null,$l=null,Jl=!1,Zl=null,eu=0,tu=0,nu=null,ru=-1,iu=0;function su(){return 0!==(6&Pl)?$e():-1!==ru?ru:ru=$e()}function au(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Ll?Ll&-Ll:null!==ms.transition?(0===iu&&(iu=mt()),iu):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function ou(e,t,n,r){if(50<tu)throw tu=0,nu=null,Error(s(185));vt(e,n,r),0!==(2&Pl)&&e===Ol||(e===Ol&&(0===(2&Pl)&&(Bl|=n),4===Fl&&du(e,Ll)),lu(e,r),1===n&&0===Pl&&0===(1&t.mode)&&(Gl=$e()+500,Fi&&Bi()))}function lu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=dt(e,e===Ol?Ll:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Fi=!0,zi(e)}(fu.bind(null,e)):zi(fu.bind(null,e)),ai(function(){0===(6&Pl)&&Bi()}),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ou(n,uu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function uu(e,t){if(ru=-1,iu=0,0!==(6&Pl))throw Error(s(327));var n=e.callbackNode;if(Iu()&&e.callbackNode!==n)return null;var r=dt(e,e===Ol?Ll:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Eu(e,r);else{t=r;var i=Pl;Pl|=2;var a=wu();for(Ol===e&&Ll===t||(Ql=null,Gl=$e()+500,vu(e,t));;)try{ku();break}catch(l){yu(e,l)}Cs(),Al.current=a,Pl=i,null!==Ml?t=0:(Ol=null,Ll=0,t=Fl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=cu(e,i))),1===t)throw n=Vl,vu(e,0),du(e,r),lu(e,$e()),n;if(6===t)du(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Eu(e,r))&&(0!==(a=pt(e))&&(r=a,t=cu(e,a))),1===t))throw n=Vl,vu(e,0),du(e,r),lu(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Cu(e,Hl,Ql);break;case 3:if(du(e,r),(130023424&r)===r&&10<(t=Kl+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){su(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Cu.bind(null,e,Hl,Ql),t);break}Cu(e,Hl,Ql);break;case 4:if(du(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nl(r/1960))-r)){e.timeoutHandle=ri(Cu.bind(null,e,Hl,Ql),r);break}Cu(e,Hl,Ql);break;default:throw Error(s(329))}}}return lu(e,$e()),e.callbackNode===n?uu.bind(null,e):null}function cu(e,t){var n=ql;return e.current.memoizedState.isDehydrated&&(vu(e,t).flags|=256),2!==(e=Eu(e,t))&&(t=Hl,Hl=n,null!==t&&hu(t)),e}function hu(e){null===Hl?Hl=e:Hl.push.apply(Hl,e)}function du(e,t){for(t&=~Wl,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function fu(e){if(0!==(6&Pl))throw Error(s(327));Iu();var t=dt(e,0);if(0===(1&t))return lu(e,$e()),null;var n=Eu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=cu(e,r))}if(1===n)throw n=Vl,vu(e,0),du(e,t),lu(e,$e()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cu(e,Hl,Ql),lu(e,$e()),null}function pu(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(Gl=$e()+500,Fi&&Bi())}}function mu(e){null!==Zl&&0===Zl.tag&&0===(6&Pl)&&Iu();var t=Pl;Pl|=1;var n=Rl.transition,r=wt;try{if(Rl.transition=null,wt=1,e)return e()}finally{wt=r,Rl.transition=n,0===(6&(Pl=t))&&Bi()}}function gu(){jl=Ul.current,_i(Ul)}function vu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ml)for(n=Ml.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:ea(),_i(Ni),_i(xi),aa();break;case 5:na(r);break;case 4:ea();break;case 13:case 19:_i(ra);break;case 10:Is(r.type._context);break;case 22:case 23:gu()}n=n.return}if(Ol=e,Ml=e=Uu(e.current,null),Ll=jl=t,Fl=0,Vl=null,Wl=Bl=zl=0,Hl=ql=null,null!==Ds){for(t=0;t<Ds.length;t++)if(null!==(r=(n=Ds[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Ds=null}return e}function yu(e,t){for(;;){var n=Ml;try{if(Cs(),oa.current=to,fa){for(var r=ca.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}fa=!1}if(ua=0,da=ha=ca=null,pa=!1,ma=0,Dl.current=null,null===n||null===n.return){Fl=1,Vl=t,Ml=null;break}e:{var a=e,o=n.return,l=n,u=t;if(t=Ll,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=bo(o);if(null!==p){p.flags&=-257,So(p,o,l,0,t),1&p.mode&&wo(a,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){wo(a,c,t),bu();break e}u=Error(s(426))}else if(is&&1&l.mode){var v=bo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),So(v,o,l,0,t),ps(fo(u,l));break e}}a=u=fo(u,l),4!==Fl&&(Fl=2),null===ql?ql=[a]:ql.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ws(a,vo(0,u,t));break e;case 1:l=u;var y=a.type,w=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===$l||!$l.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t,Ws(a,yo(a,l,t));break e}}a=a.return}while(null!==a)}_u(n)}catch($s){t=$s,Ml===n&&null!==n&&(Ml=n=n.return);continue}break}}function wu(){var e=Al.current;return Al.current=to,null===e?to:e}function bu(){0!==Fl&&3!==Fl&&2!==Fl||(Fl=4),null===Ol||0===(268435455&zl)&&0===(268435455&Bl)||du(Ol,Ll)}function Eu(e,t){var n=Pl;Pl|=2;var r=wu();for(Ol===e&&Ll===t||(Ql=null,vu(e,t));;)try{Su();break}catch(i){yu(e,i)}if(Cs(),Pl=n,Al.current=r,null!==Ml)throw Error(s(261));return Ol=null,Ll=0,Fl}function Su(){for(;null!==Ml;)Tu(Ml)}function ku(){for(;null!==Ml&&!Ye();)Tu(Ml)}function Tu(e){var t=xl(e.alternate,e,jl);e.memoizedProps=e.pendingProps,null===t?_u(e):Ml=t,Dl.current=null}function _u(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Jo(n,t,jl)))return void(Ml=n)}else{if(null!==(n=Zo(n,t)))return n.flags&=32767,void(Ml=n);if(null===e)return Fl=6,void(Ml=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ml=t);Ml=t=e}while(null!==t);0===Fl&&(Fl=5)}function Cu(e,t,n){var r=wt,i=Rl.transition;try{Rl.transition=null,wt=1,function(e,t,n,r){do{Iu()}while(null!==Zl);if(0!==(6&Pl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Ol&&(Ml=Ol=null,Ll=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Jl||(Jl=!0,Ou(tt,function(){return Iu(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Rl.transition,Rl.transition=null;var o=wt;wt=1;var l=Pl;Pl|=4,Dl.current=null,function(e,t){if(ei=qt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(Eo){n=null;break e}var o=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==a||0!==r&&3!==d.nodeType||(u=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=o),f===a&&++h===r&&(u=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,rl=t;null!==rl;)if(e=(t=rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,rl=e;else for(;null!==rl;){t=rl;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:so(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(Eo){Nu(t,t.return,Eo)}if(null!==(e=t.sibling)){e.return=t.return,rl=e;break}rl=t.return}m=al,al=!1}(e,n),El(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,kl(n,e,i),Xe(),Pl=l,wt=o,Rl.transition=a}else e.current=n;if(Jl&&(Jl=!1,Zl=e,eu=i),a=e.pendingLanes,0===a&&($l=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),lu(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yl)throw Yl=!1,e=Xl,Xl=null,e;0!==(1&eu)&&0!==e.tag&&Iu(),a=e.pendingLanes,0!==(1&a)?e===nu?tu++:(tu=0,nu=e):tu=0,Bi()}(e,t,n,r)}finally{Rl.transition=i,wt=r}return null}function Iu(){if(null!==Zl){var e=bt(eu),t=Rl.transition,n=wt;try{if(Rl.transition=null,wt=16>e?16:e,null===Zl)var r=!1;else{if(e=Zl,Zl=null,eu=0,0!==(6&Pl))throw Error(s(331));var i=Pl;for(Pl|=4,rl=e.current;null!==rl;){var a=rl,o=a.child;if(0!==(16&rl.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(rl=c;null!==rl;){var h=rl;switch(h.tag){case 0:case 11:case 15:ol(8,h,a)}var d=h.child;if(null!==d)d.return=h,rl=d;else for(;null!==rl;){var f=(h=rl).sibling,p=h.return;if(cl(h),h===c){rl=null;break}if(null!==f){f.return=p,rl=f;break}rl=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}rl=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,rl=o;else e:for(;null!==rl;){if(0!==(2048&(a=rl).flags))switch(a.tag){case 0:case 11:case 15:ol(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,rl=y;break e}rl=a.return}}var w=e.current;for(rl=w;null!==rl;){var b=(o=rl).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,rl=b;else e:for(o=w;null!==rl;){if(0!==(2048&(l=rl).flags))try{switch(l.tag){case 0:case 11:case 15:ll(9,l)}}catch($s){Nu(l,l.return,$s)}if(l===o){rl=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,rl=E;break e}rl=l.return}}if(Pl=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch($s){}r=!0}return r}finally{wt=n,Rl.transition=t}}return!1}function xu(e,t,n){e=zs(e,t=vo(0,t=fo(n,t),1),1),t=su(),null!==e&&(vt(e,1,t),lu(e,t))}function Nu(e,t,n){if(3===e.tag)xu(e,e,n);else for(;null!==t;){if(3===t.tag){xu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$l||!$l.has(r))){t=zs(t,e=yo(t,e=fo(n,e),1),1),e=su(),null!==t&&(vt(t,1,e),lu(t,e));break}}t=t.return}}function Au(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=su(),e.pingedLanes|=e.suspendedLanes&n,Ol===e&&(Ll&n)===n&&(4===Fl||3===Fl&&(130023424&Ll)===Ll&&500>$e()-Kl?vu(e,0):Wl|=n),lu(e,t)}function Du(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=su();null!==(e=Ms(e,t))&&(vt(e,t,n),lu(e,n))}function Ru(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Du(e,n)}function Pu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Du(e,n)}function Ou(e,t){return Ge(e,t)}function Mu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lu(e,t,n,r){return new Mu(e,t,n,r)}function ju(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Uu(e,t){var n=e.alternate;return null===n?((n=Lu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fu(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)ju(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Vu(n.children,i,a,t);case T:o=8,i|=8;break;case _:return(e=Lu(12,n,t,2|i)).elementType=_,e.lanes=a,e;case N:return(e=Lu(13,n,t,i)).elementType=N,e.lanes=a,e;case A:return(e=Lu(19,n,t,i)).elementType=A,e.lanes=a,e;case P:return zu(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case I:o=9;break e;case x:o=11;break e;case D:o=14;break e;case R:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Lu(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Vu(e,t,n,r){return(e=Lu(7,e,r,t)).lanes=n,e}function zu(e,t,n,r){return(e=Lu(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Bu(e,t,n){return(e=Lu(6,e,null,t)).lanes=n,e}function Wu(e,t,n){return(t=Lu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hu(e,t,n,r,i,s,a,o,l){return e=new qu(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Lu(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},js(s),e}function Ku(e){if(!e)return Ii;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Mi(e,n,t)}return t}function Gu(e,t,n,r,i,s,a,o,l){return(e=Hu(n,r,!0,e,0,s,0,o,l)).context=Ku(null),n=e.current,(s=Vs(r=su(),i=au(n))).callback=void 0!==t&&null!==t?t:null,zs(n,s,i),e.current.lanes=i,vt(e,i,r),lu(e,r),e}function Qu(e,t,n,r){var i=t.current,s=su(),a=au(i);return n=Ku(n),null===t.context?t.context=n:t.pendingContext=n,(t=Vs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zs(i,t,a))&&(ou(e,i,a,s),Bs(e,i,a)),a}function Yu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Xu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $u(e,t){Xu(e,t),(e=e.alternate)&&Xu(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)To=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return To=!1,function(e,t,n){switch(t.tag){case 3:Oo(t),fs();break;case 5:ta(t);break;case 1:Ri(t.type)&&Li(t);break;case 4:Zs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(Ss,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(ra,1&ra.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bo(e,t,n):(Ci(ra,1&ra.current),null!==(e=Yo(e,t,n))?e.sibling:null);Ci(ra,1&ra.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Go(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ra,ra.current),r)break;return null;case 22:case 23:return t.lanes=0,No(e,t,n)}return Yo(e,t,n)}(e,t,n);To=0!==(131072&e.flags)}else To=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qo(e,t),e=t.pendingProps;var i=Di(t,xi.current);Ns(t,n),i=wa(null,t,r,e,i,n);var a=ba();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,js(t),i.updater=oo,t.stateNode=i,i._reactInternals=t,ho(t,r,e,n),t=Po(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),_o(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return ju(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===D)return 14}return 2}(r),e=so(r,e),i){case 0:t=Do(null,t,r,e,n);break e;case 1:t=Ro(null,t,r,e,n);break e;case 11:t=Co(null,t,r,e,n);break e;case 14:t=Io(null,t,r,so(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Do(e,t,r,i=t.elementType===r?i:so(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ro(e,t,r,i=t.elementType===r?i:so(r,i),n);case 3:e:{if(Oo(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fs(e,t),qs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Mo(e,t,r,n,i=fo(Error(s(423)),t));break e}if(r!==i){t=Mo(e,t,r,n,i=fo(Error(s(424)),t));break e}for(rs=ui(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Es(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Yo(e,t,n);break e}_o(e,t,r,n)}t=t.child}return t;case 5:return ta(t),null===e&&us(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),Ao(e,t),_o(e,t,o,n),t.child;case 6:return null===e&&us(t),null;case 13:return Bo(e,t,n);case 4:return Zs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bs(t,null,r,n):_o(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:so(r,i),n);case 7:return _o(e,t,t.pendingProps,n),t.child;case 8:case 12:return _o(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ci(Ss,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ni.current){t=Yo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=Vs(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),xs(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),xs(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}_o(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ns(t,n),r=r(i=As(i)),t.flags|=1,_o(e,t,r,n),t.child;case 14:return i=so(r=t.type,t.pendingProps),Io(e,t,r,i=so(r.type,i),n);case 15:return xo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:so(r,i),Qo(e,t),t.tag=1,Ri(r)?(e=!0,Li(t)):e=!1,Ns(t,n),uo(t,r,i),ho(t,r,i,n),Po(null,t,r,!0,e,n);case 19:return Go(e,t,n);case 22:return No(e,t,n)}throw Error(s(156,t.tag))};var Ju="function"===typeof reportError?reportError:function(e){console.error(e)};function Zu(e){this._internalRoot=e}function ec(e){this._internalRoot=e}function nc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function rc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ic(){}function sc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Yu(a);o.call(e)}}Qu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Yu(a);s.call(e)}}var a=Gu(t,r,e,0,null,!1,0,"",ic);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),mu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Yu(l);o.call(e)}}var l=Hu(e,0,!1,null,0,!1,0,"",ic);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),mu(function(){Qu(t,l,n,r)}),l}(n,t,e,i,r);return Yu(a)}ec.prototype.render=Zu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Qu(e,t,null,null)},ec.prototype.unmount=Zu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mu(function(){Qu(null,e,null,null)}),t[pi]=null}},ec.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&jt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),lu(t,$e()),0===(6&Pl)&&(Gl=$e()+500,Bi()))}break;case 13:mu(function(){var t=Ms(e,1);if(null!==t){var n=su();ou(t,e,1,n)}}),$u(e,1)}},St=function(e){if(13===e.tag){var t=Ms(e,134217728);if(null!==t)ou(t,e,134217728,su());$u(e,134217728)}},kt=function(e){if(13===e.tag){var t=au(e),n=Ms(e,t);if(null!==n)ou(n,e,t,su());$u(e,t)}},Tt=function(){return wt},_t=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(s(90));G(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=pu,Ne=mu;var ac={usingClientEntryPoint:!1,Events:[wi,bi,Ei,Ce,Ie,pu]},oc={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lc={bundleType:oc.bundleType,version:oc.version,rendererPackageName:oc.rendererPackageName,rendererConfig:oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:oc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{it=uc.inject(lc),st=uc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ac,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!nc(e))throw Error(s(299));var n=!1,r="",i=Ju;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Hu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Zu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return mu(e)},t.hydrate=function(e,t,n){if(!rc(t))throw Error(s(200));return sc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!nc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Ju;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Gu(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ec(t)},t.render=function(e,t,n){if(!rc(t))throw Error(s(200));return sc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!rc(e))throw Error(s(40));return!!e._reactRootContainer&&(mu(function(){sc(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=pu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!rc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return sc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i=n(43),s=n.t(i,2),a=n(391),o=n(950),l=n.t(o,2);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const c="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,o=s.history,l=r.Pop,d=null,g=v();function v(){return(o.state||{idx:null}).idx}function y(){l=r.Pop;let e=v(),t=null==e?null:e-g;g=e,d&&d({action:l,location:b.location,delta:t})}function w(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,o.replaceState(u({},o.state,{idx:g}),""));let b={get action(){return l},get location(){return e(s,o)},listen(e){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(c,y),d=e,()=>{s.removeEventListener(c,y),d=null}},createHref:e=>t(s,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=p(b.location,e,t);n&&n(i,e),g=v()+1;let u=f(i,g),c=b.createHref(i);try{o.pushState(u,"",c)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;s.location.assign(c)}a&&d&&d({action:l,location:b.location,delta:1})},replace:function(e,t){l=r.Replace;let i=p(b.location,e,t);n&&n(i,e),g=v();let s=f(i,g),u=b.createHref(i);o.replaceState(s,"",u),a&&d&&d({action:l,location:b.location,delta:0})},go:e=>o.go(e)};return b}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function w(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,r){let i=O(("string"===typeof t?g(t):t).pathname||"/",n);if(null==i)return null;let s=E(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=P(i);a=D(s[o],e,r)}return a}function E(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(h(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=F([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),E(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:A(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of S(e.path))i(e,t,r);else i(e,t)}),t}function S(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=S(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const k=/^:[\w-]+$/,T=3,_=2,C=1,I=10,x=-2,N=e=>"*"===e;function A(e,t){let n=e.split("/"),r=n.length;return n.some(N)&&(r+=x),t&&(r+=_),n.filter(e=>!N(e)).reduce((e,t)=>e+(k.test(t)?T:""===t?C:I),r)}function D(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,u="/"===s?t:t.slice(s.length)||"/",c=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),h=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),a.push({params:i,pathname:F([s,c.pathname]),pathnameBase:V(F([s,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(s=F([s,c.pathnameBase]))}return a}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:a,pattern:e}}function P(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function M(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function j(e,t){let n=L(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function U(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=g(e):(i=u({},e),h(!i.pathname||!i.pathname.includes("?"),M("?","pathname","search",i)),h(!i.pathname||!i.pathname.includes("#"),M("#","pathname","hash",i)),h(!i.search||!i.search.includes("#"),M("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?g(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:z(r),hash:B(i)}}(i,s),c=o&&"/"!==o&&o.endsWith("/"),d=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const F=e=>e.join("/").replace(/\/\/+/g,"/"),V=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function W(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],H=(new Set(q),["get",...q]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}const G=i.createContext(null);const Q=i.createContext(null);const Y=i.createContext(null);const X=i.createContext(null);const $=i.createContext({outlet:null,matches:[],isDataRoute:!1});const J=i.createContext(null);function Z(){return null!=i.useContext(X)}function ee(){return Z()||h(!1),i.useContext(X).location}function te(e){i.useContext(Y).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext($);return e?function(){let{router:e}=de(ce.UseNavigateStable),t=pe(he.UseNavigateStable),n=i.useRef(!1);te(()=>{n.current=!0});let r=i.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,K({fromRouteId:t},i)))},[e,t]);return r}():function(){Z()||h(!1);let e=i.useContext(G),{basename:t,future:n,navigator:r}=i.useContext(Y),{matches:s}=i.useContext($),{pathname:a}=ee(),o=JSON.stringify(j(s,n.v7_relativeSplatPath)),l=i.useRef(!1);te(()=>{l.current=!0});let u=i.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=U(n,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:F([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)},[t,r,o,a,e]);return u}()}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(Y),{matches:s}=i.useContext($),{pathname:a}=ee(),o=JSON.stringify(j(s,r.v7_relativeSplatPath));return i.useMemo(()=>U(e,JSON.parse(o),a,"path"===n),[e,o,a,n])}function ie(e,t,n,s){Z()||h(!1);let{navigator:a}=i.useContext(Y),{matches:o}=i.useContext($),l=o[o.length-1],u=l?l.params:{},c=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=ee();if(t){var p;let e="string"===typeof t?g(t):t;"/"===c||(null==(p=e.pathname)?void 0:p.startsWith(c))||h(!1),d=e}else d=f;let m=d.pathname||"/",v=m;if("/"!==c){let e=c.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=w(e,{pathname:v});let b=ue(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:F([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:F([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,s);return t&&b?i.createElement(X.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:r.Pop}},b):b}function se(){let e=function(){var e;let t=i.useContext(J),n=fe(he.UseRouteError),r=pe(he.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=W(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const ae=i.createElement(se,null);class oe extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement($.Provider,{value:this.props.routeContext},i.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(G);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement($.Provider,{value:t},r)}function ue(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||h(!1),o=o.slice(0,Math.min(o.length,e+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<o.length;i++){let e=o[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,o=c>=0?o.slice(0,c+1):[o[0]];break}}}return o.reduceRight((e,r,s)=>{let a,h=!1,d=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||ae,u&&(c<0&&0===s?(p="route-fallback",!1||me[p]||(me[p]=!0),h=!0,f=null):c===s&&(h=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=a?d:h?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(le,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(oe,{location:n.location,revalidation:n.revalidation,component:d,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function de(e){let t=i.useContext(G);return t||h(!1),t}function fe(e){let t=i.useContext(Q);return t||h(!1),t}function pe(e){let t=function(){let e=i.useContext($);return e||h(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const me={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function ve(e){let{to:t,replace:n,state:r,relative:s}=e;Z()||h(!1);let{future:a,static:o}=i.useContext(Y),{matches:l}=i.useContext($),{pathname:u}=ee(),c=ne(),d=U(t,j(l,a.v7_relativeSplatPath),u,"path"===s),f=JSON.stringify(d);return i.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function ye(e){h(!1)}function we(e){let{basename:t="/",children:n=null,location:s,navigationType:a=r.Pop,navigator:o,static:l=!1,future:u}=e;Z()&&h(!1);let c=t.replace(/^\/*/,"/"),d=i.useMemo(()=>({basename:c,navigator:o,static:l,future:K({v7_relativeSplatPath:!1},u)}),[c,u,o,l]);"string"===typeof s&&(s=g(s));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:y="default"}=s,w=i.useMemo(()=>{let e=O(f,c);return null==e?null:{location:{pathname:e,search:p,hash:m,state:v,key:y},navigationType:a}},[c,f,p,m,v,y,a]);return null==w?null:i.createElement(Y.Provider,{value:d},i.createElement(X.Provider,{children:n,value:w}))}function be(e){let{children:t,location:n}=e;return ie(Ee(t),n)}new Promise(()=>{});i.Component;function Ee(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,Ee(e.props.children,s));e.type!==ye&&h(!1),e.props.index&&e.props.children&&h(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Ee(e.props.children,s)),n.push(a)}),n}function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se.apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Te=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(xw){}new Map;const _e=s.startTransition;l.flushSync,s.useId;function Ce(e){let{basename:t,children:n,future:r,window:s}=e,a=i.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),v(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,o)));let l=a.current,[u,c]=i.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},d=i.useCallback(e=>{h&&_e?_e(()=>c(e)):c(e)},[c,h]);return i.useLayoutEffect(()=>l.listen(d),[l,d]),i.useEffect(()=>ge(r),[r]),i.createElement(we,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}const Ie="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,xe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ne=i.forwardRef(function(e,t){let n,{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:u,to:c,preventScrollReset:d,viewTransition:f}=e,p=ke(e,Te),{basename:g}=i.useContext(Y),v=!1;if("string"===typeof c&&xe.test(c)&&(n=c,Ie))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=O(t.pathname,g);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:v=!0}catch(xw){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||h(!1);let{basename:r,navigator:s}=i.useContext(Y),{hash:a,pathname:o,search:l}=re(e,{relative:n}),u=o;return"/"!==r&&(u="/"===o?r:F([r,o])),s.createHref({pathname:u,search:l,hash:a})}(c,{relative:s}),w=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,u=ne(),c=ee(),h=re(e,{relative:o});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(c)===m(h);u(e,{replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[c,u,h,r,s,n,e,a,o,l])}(c,{replace:o,state:l,target:u,preventScrollReset:d,relative:s,viewTransition:f});return i.createElement("a",Se({},p,{href:n||y,onClick:v||a?r:function(e){r&&r(e),e.defaultPrevented||w(e)},ref:t,target:u}))});var Ae,De;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ae||(Ae={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(De||(De={}));const Re=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,u=t>>2,c=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Re(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Oe;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Me=function(e){return function(e){const t=Re(e);return Pe.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Le=function(e){try{return Pe.decodeString(e,!0)}catch(xw){console.error("base64Decode failed: ",xw)}return null};const je=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ue=()=>{try{return je()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/Arch",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(xw){return}const t=e&&Le(e[1]);return t&&JSON.parse(t)})()}catch(xw){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(xw))}},Fe=e=>{var t,n;return null===(n=null===(t=Ue())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ve=()=>{var e;return null===(e=Ue())||void 0===e?void 0:e.config},ze=e=>{var t;return null===(t=Ue())||void 0===t?void 0:t["_".concat(e)]};class Be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function We(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function qe(){try{return"object"===typeof indexedDB}catch(xw){return!1}}class He extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,He.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ke.prototype.create)}}class Ke{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ge,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new He(n,s,t)}}const Ge=/\{\$([^}]+)}/g;function Qe(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Ye(n)&&Ye(s)){if(!Qe(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ye(e){return null!==e&&"object"===typeof e}function Xe(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function $e(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Je(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Ze{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=et),void 0===r.error&&(r.error=et),void 0===r.complete&&(r.complete=et);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(xw){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(xw){"undefined"!==typeof console&&console.error&&console.error(xw)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function et(){}function tt(e){return e&&e._delegate?e._delegate:e}class nt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const rt="[DEFAULT]";class it{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Be;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(xw){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(xw){if(r)return null;throw xw}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:rt})}catch(xw){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(xw){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===rt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt;return this.component?this.component.multipleInstances?e:rt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class st{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new it(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const at=[];var ot;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ot||(ot={}));const lt={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},ut=ot.INFO,ct={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},ht=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=ct[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class dt{constructor(e){this.name=e,this._logLevel=ut,this._logHandler=ht,this._userLogHandler=null,at.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?lt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...t),this._logHandler(this,ot.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...t),this._logHandler(this,ot.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ot.INFO,...t),this._logHandler(this,ot.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ot.WARN,...t),this._logHandler(this,ot.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...t),this._logHandler(this,ot.ERROR,...t)}}function ft(e){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(e)}function pt(e){var t=function(e,t){if("object"!=ft(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ft(t)?t:t+""}function mt(e,t,n){return(t=pt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach(function(t){mt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let yt,wt;const bt=new WeakMap,Et=new WeakMap,St=new WeakMap,kt=new WeakMap,Tt=new WeakMap;let _t={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Et.get(e);if("objectStoreNames"===t)return e.objectStoreNames||St.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ct(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(wt||(wt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Nt(this),n),xt(bt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xt(e.apply(Nt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Nt(this),t,...r);return St.set(s,t.sort?t.sort():[t]),xt(s)}}function It(e){return"function"===typeof e?Ct(e):(e instanceof IDBTransaction&&function(e){if(Et.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});Et.set(e,t)}(e),t=e,(yt||(yt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,_t):e);var t}function xt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(xt(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&bt.set(t,e)}).catch(()=>{}),Tt.set(t,e),t}(e);if(kt.has(e))return kt.get(e);const t=It(e);return t!==e&&(kt.set(e,t),Tt.set(t,e)),t}const Nt=e=>Tt.get(e);const At=["get","getKey","getAll","getAllKeys","count"],Dt=["put","add","delete","clear"],Rt=new Map;function Pt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Rt.get(t))return Rt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Dt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!At.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return Rt.set(t,s),s}_t=(e=>vt(vt({},e),{},{get:(t,n,r)=>Pt(t,n)||e.get(t,n,r),has:(t,n)=>!!Pt(t,n)||e.has(t,n)}))(_t);class Ot{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Mt="@firebase/app",Lt="0.9.13",jt=new dt("@firebase/app"),Ut="@firebase/app-compat",Ft="@firebase/analytics-compat",Vt="@firebase/analytics",zt="@firebase/app-check-compat",Bt="@firebase/app-check",Wt="@firebase/auth",qt="@firebase/auth-compat",Ht="@firebase/database",Kt="@firebase/database-compat",Gt="@firebase/functions",Qt="@firebase/functions-compat",Yt="@firebase/installations",Xt="@firebase/installations-compat",$t="@firebase/messaging",Jt="@firebase/messaging-compat",Zt="@firebase/performance",en="@firebase/performance-compat",tn="@firebase/remote-config",nn="@firebase/remote-config-compat",rn="@firebase/storage",sn="@firebase/storage-compat",an="@firebase/firestore",on="@firebase/firestore-compat",ln="firebase",un="[DEFAULT]",cn={[Mt]:"fire-core",[Ut]:"fire-core-compat",[Vt]:"fire-analytics",[Ft]:"fire-analytics-compat",[Bt]:"fire-app-check",[zt]:"fire-app-check-compat",[Wt]:"fire-auth",[qt]:"fire-auth-compat",[Ht]:"fire-rtdb",[Kt]:"fire-rtdb-compat",[Gt]:"fire-fn",[Qt]:"fire-fn-compat",[Yt]:"fire-iid",[Xt]:"fire-iid-compat",[$t]:"fire-fcm",[Jt]:"fire-fcm-compat",[Zt]:"fire-perf",[en]:"fire-perf-compat",[tn]:"fire-rc",[nn]:"fire-rc-compat",[rn]:"fire-gcs",[sn]:"fire-gcs-compat",[an]:"fire-fst",[on]:"fire-fst-compat","fire-js":"fire-js",[ln]:"fire-js-all"},hn=new Map,dn=new Map;function fn(e,t){try{e.container.addComponent(t)}catch(xw){jt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),xw)}}function pn(e){const t=e.name;if(dn.has(t))return jt.debug("There were multiple attempts to register component ".concat(t,".")),!1;dn.set(t,e);for(const n of hn.values())fn(n,e);return!0}function mn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const gn=new Ke("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class vn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new nt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gn.create("app-deleted",{appName:this._name})}}const yn="9.23.0";function wn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:un,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw gn.create("bad-app-name",{appName:String(i)});if(n||(n=Ve()),!n)throw gn.create("no-options");const s=hn.get(i);if(s){if(Qe(n,s.options)&&Qe(r,s.config))return s;throw gn.create("duplicate-app",{appName:i})}const a=new st(i);for(const l of dn.values())a.addComponent(l);const o=new vn(n,r,a);return hn.set(i,o),o}function bn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un;const t=hn.get(e);if(!t&&e===un&&Ve())return wn();if(!t)throw gn.create("no-app",{appName:e});return t}function En(e,t,n){var r;let i=null!==(r=cn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void jt.warn(e.join(" "))}pn(new nt("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Sn="firebase-heartbeat-store";let kn=null;function Tn(){return kn||(kn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=xt(a);return r&&a.addEventListener("upgradeneeded",e=>{r(xt(a.result),e.oldVersion,e.newVersion,xt(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Sn)}}).catch(e=>{throw gn.create("idb-open",{originalErrorMessage:e.message})})),kn}async function _n(e,t){try{const n=(await Tn()).transaction(Sn,"readwrite"),r=n.objectStore(Sn);await r.put(t,Cn(e)),await n.done}catch(xw){if(xw instanceof He)jt.warn(xw.message);else{const t=gn.create("idb-set",{originalErrorMessage:null===xw||void 0===xw?void 0:xw.message});jt.warn(t.message)}}}function Cn(e){return"".concat(e.name,"!").concat(e.options.appId)}class In{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Nn(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=xn();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=xn(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),An(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),An(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Me(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function xn(){return(new Date).toISOString().substring(0,10)}class Nn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!qe()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Tn();return await t.transaction(Sn).objectStore(Sn).get(Cn(e))}catch(xw){if(xw instanceof He)jt.warn(xw.message);else{const t=gn.create("idb-get",{originalErrorMessage:null===xw||void 0===xw?void 0:xw.message});jt.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return _n(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return _n(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function An(e){return Me(JSON.stringify({version:2,heartbeats:e})).length}var Dn;Dn="",pn(new nt("platform-logger",e=>new Ot(e),"PRIVATE")),pn(new nt("heartbeat",e=>new In(e),"PRIVATE")),En(Mt,Lt,Dn),En(Mt,Lt,"esm2017"),En("fire-js","");function Rn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Pn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const On=Pn,Mn=new Ke("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ln=new dt("@firebase/auth");function jn(e){if(Ln.logLevel<=ot.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ln.error("Auth (".concat(yn,"): ").concat(e),...n)}}function Un(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw zn(e,...n)}function Fn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return zn(e,...n)}function Vn(e,t,n){const r=Object.assign(Object.assign({},On()),{[t]:n});return new Ke("auth","Firebase",r).create(t,{appName:e.name})}function zn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Mn.create(e,...n)}function Bn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw zn(t,...r)}}function Wn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw jn(t),new Error(t)}function qn(e,t){e||Wn(t)}function Hn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Kn(){return"http:"===Gn()||"https:"===Gn()}function Gn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Qn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Kn()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Yn{constructor(e,t){this.shortDelay=e,this.longDelay=t,qn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Qn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xn(e,t){qn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class $n{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Zn=new Yn(3e4,6e4);function er(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function tr(e,t,n,r){return nr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Xe(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),$n.fetch()(ir(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))})}async function nr(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jn),t);try{const t=new sr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw ar(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw ar(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw ar(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw ar(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Vn(e,o,a);Un(e,o)}}catch(xw){if(xw instanceof He)throw xw;Un(e,"network-request-failed",{message:String(xw)})}}async function rr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await tr(e,t,n,r,i);return"mfaPendingCredential"in s&&Un(e,"multi-factor-auth-required",{_serverResponse:s}),s}function ir(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Xn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class sr{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Fn(this.auth,"network-request-failed")),Zn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ar(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Fn(e,t,r);return i.customData._tokenResponse=n,i}function or(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(xw){}}function lr(e){return 1e3*Number(e)}function ur(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return jn("JWT malformed, contained fewer than 3 sections"),null;try{const e=Le(n);return e?JSON.parse(e):(jn("Failed to decode base64 JWT payload"),null)}catch(xw){return jn("Caught error parsing JWT payload as JSON",null===xw||void 0===xw?void 0:xw.toString()),null}}async function cr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(xw){throw xw instanceof He&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(xw)&&e.auth.currentUser===e&&await e.auth.signOut(),xw}}class hr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(xw){return void((null===xw||void 0===xw?void 0:xw.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class dr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=or(this.lastLoginAt),this.creationTime=or(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await cr(e,async function(e,t){return tr(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Bn(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map(e=>{var{providerId:t}=e,n=Rn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const o=(l=e.providerData,u=a,[...l.filter(e=>!u.some(t=>t.providerId===e.providerId)),...u]);var l,u;const c=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!c&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new dr(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class pr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Bn(e.idToken,"internal-error"),Bn("undefined"!==typeof e.idToken,"internal-error"),Bn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=ur(e);return Bn(t,"internal-error"),Bn("undefined"!==typeof t.exp,"internal-error"),Bn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Bn(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await nr(e,{},async()=>{const n=Xe({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=ir(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$n.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new pr;return n&&(Bn("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Bn("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Bn("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pr,this.toJSON())}_performRefresh(){return Wn("not implemented")}}function mr(e,t){Bn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class gr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Rn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new dr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await cr(this,this.stsTokenManager.getToken(this.auth,e));return Bn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=tt(e),r=await n.getIdToken(t),i=ur(r);Bn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:or(lr(i.auth_time)),issuedAtTime:or(lr(i.iat)),expirationTime:or(lr(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=tt(e);await fr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Bn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Bn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await fr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await cr(this,async function(e,t){return tr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:E,stsTokenManager:S}=t;Bn(y&&S,e,"internal-error");const k=pr.fromJSON(this.name,S);Bn("string"===typeof y,e,"internal-error"),mr(c,e.name),mr(h,e.name),Bn("boolean"===typeof w,e,"internal-error"),Bn("boolean"===typeof b,e,"internal-error"),mr(d,e.name),mr(f,e.name),mr(p,e.name),mr(m,e.name),mr(g,e.name),mr(v,e.name);const T=new gr({uid:y,auth:e,email:h,emailVerified:w,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return E&&Array.isArray(E)&&(T.providerData=E.map(e=>Object.assign({},e))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new pr;r.updateFromServerResponse(t);const i=new gr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await fr(i),i}}const vr=new Map;function yr(e){qn(e instanceof Function,"Expected a class definition");let t=vr.get(e);return t?(qn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,vr.set(e,t),t)}class wr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}wr.type="NONE";const br=wr;function Er(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Sr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Er(this.userKey,r.apiKey,i),this.fullPersistenceKey=Er("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?gr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Sr(yr(br),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||yr(br);const s=Er(n,e.config.apiKey,e.name);let a=null;for(const u of t)try{const t=await u._get(s);if(t){const n=gr._fromJSON(e,t);u!==i&&(a=n),i=u;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(l){}})),new Sr(i,e,n)):new Sr(i,e,n)}}function kr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ir(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Tr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Nr(t))return"Blackberry";if(Ar(t))return"Webos";if(_r(t))return"Safari";if((t.includes("chrome/")||Cr(t))&&!t.includes("edge/"))return"Chrome";if(xr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Tr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/firefox\//i.test(e)}function _r(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:We()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Cr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/crios\//i.test(e)}function Ir(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/iemobile/i.test(e)}function xr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/android/i.test(e)}function Nr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/blackberry/i.test(e)}function Ar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/webos/i.test(e)}function Dr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Rr(){return function(){const e=We();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Pr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return Dr(e)||xr(e)||Ar(e)||Nr(e)||/windows phone/i.test(e)||Ir(e)}function Or(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=kr(We());break;case"Worker":t="".concat(kr(We()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(yn,"/").concat(r)}async function Mr(e,t){return tr(e,"GET","/v2/recaptchaConfig",er(e,t))}function Lr(e){return void 0!==e&&void 0!==e.enterprise}class jr{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function Ur(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Fn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function Fr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Vr{constructor(e){this.type="recaptcha-enterprise",this.auth=qr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Lr(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Mr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new jr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Lr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Ur("https://www.google.com/recaptcha/enterprise.js?render="+i).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function zr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Vr(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}class Br{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(xw){r(xw)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(xw){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===xw||void 0===xw?void 0:xw.message})}}}class Wr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hr(this),this.idTokenSubscription=new Hr(this),this.beforeStateQueue=new Br(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=yr(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Sr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(xw){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(xw){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(xw))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Bn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(xw){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await fr(e)}catch(xw){if((null===xw||void 0===xw?void 0:xw.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?tt(e):null;return t&&Bn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Bn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(yr(e))})}async initializeRecaptchaConfig(){const e=await Mr(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new jr(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new Vr(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ke("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&yr(e)||this._popupRedirectResolver;Bn(t,this,"argument-error"),this.redirectPersistenceManager=await Sr.create(this,[yr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Bn(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Bn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Or(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Ln.logLevel<=ot.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ln.warn("Auth (".concat(yn,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function qr(e){return tt(e)}class Hr{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Ze(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Bn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Kr(e,t,n){const r=qr(e);Bn(r._canInitEmulator,r,"emulator-config-failed"),Bn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Gr(t),{host:a,port:o}=function(e){const t=Gr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Qr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Qr(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Gr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Qr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Yr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wn("not implemented")}_getIdTokenResponse(e){return Wn("not implemented")}_linkToIdToken(e,t){return Wn("not implemented")}_getReauthenticationResolver(e){return Wn("not implemented")}}async function Xr(e,t){return tr(e,"POST","/v1/accounts:update",t)}async function $r(e,t){return rr(e,"POST","/v1/accounts:signInWithPassword",er(e,t))}class Jr extends Yr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Jr(e,t,"password")}static _fromEmailAndCode(e,t){return new Jr(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await zr(e,n,"signInWithPassword");return $r(e,t)}return $r(e,n).catch(async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await zr(e,n,"signInWithPassword");return $r(e,t)}return Promise.reject(t)});case"emailLink":return async function(e,t){return rr(e,"POST","/v1/accounts:signInWithEmailLink",er(e,t))}(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Xr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return rr(e,"POST","/v1/accounts:signInWithEmailLink",er(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Zr(e,t){return rr(e,"POST","/v1/accounts:signInWithIdp",er(e,t))}class ei extends Yr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ei(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Un("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Rn(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new ei(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Zr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Zr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zr(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Xe(t)}return e}}const ti={USER_NOT_FOUND:"user-not-found"};class ni extends Yr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ni({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ni({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return rr(e,"POST","/v1/accounts:signInWithPhoneNumber",er(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await rr(e,"POST","/v1/accounts:signInWithPhoneNumber",er(e,t));if(n.temporaryProof)throw ar(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return rr(e,"POST","/v1/accounts:signInWithPhoneNumber",er(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ti)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ni({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ri{constructor(e){var t,n,r,i,s,a;const o=$e(Je(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,u=null!==(n=o.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Bn(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=$e(Je(e)).link,n=t?$e(Je(t)).deep_link_id:null,r=$e(Je(e)).deep_link_id;return(r?$e(Je(r)).link:null)||r||n||t||e}(e);try{return new ri(t)}catch(n){return null}}}class ii{constructor(){this.providerId=ii.PROVIDER_ID}static credential(e,t){return Jr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ri.parseLink(t);return Bn(n,"argument-error"),Jr._fromEmailAndCode(e,n.code,n.tenantId)}}ii.PROVIDER_ID="password",ii.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ii.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class si{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ai extends si{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class oi extends ai{constructor(){super("facebook.com")}static credential(e){return ei._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return oi.credential(t.oauthAccessToken)}catch(n){return null}}}oi.FACEBOOK_SIGN_IN_METHOD="facebook.com",oi.PROVIDER_ID="facebook.com";class li extends ai{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ei._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return li.credential(n,r)}catch(i){return null}}}li.GOOGLE_SIGN_IN_METHOD="google.com",li.PROVIDER_ID="google.com";class ui extends ai{constructor(){super("github.com")}static credential(e){return ei._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ui.credential(t.oauthAccessToken)}catch(n){return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com",ui.PROVIDER_ID="github.com";class ci extends ai{constructor(){super("twitter.com")}static credential(e,t){return ei._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ci.credential(n,r)}catch(i){return null}}}async function hi(e,t){return rr(e,"POST","/v1/accounts:signUp",er(e,t))}ci.TWITTER_SIGN_IN_METHOD="twitter.com",ci.PROVIDER_ID="twitter.com";class di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await gr._fromIdTokenResponse(e,n,r),s=fi(n);return new di({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=fi(n);return new di({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function fi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class pi extends He{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,pi.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new pi(e,t,n,r)}}function mi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw pi._fromErrorAndOperation(e,n,t,r);throw n})}async function gi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await cr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return di._forOperation(e,"link",r)}async function vi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await cr(e,mi(r,i,t,e),n);Bn(s.idToken,r,"internal-error");const a=ur(s.idToken);Bn(a,r,"internal-error");const{sub:o}=a;return Bn(e.uid===o,r,"user-mismatch"),di._forOperation(e,i,s)}catch(xw){throw(null===xw||void 0===xw?void 0:xw.code)==="auth/".concat("user-not-found")&&Un(r,"user-mismatch"),xw}}async function yi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await mi(e,r,t),s=await di._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function wi(e,t){return yi(qr(e),t)}new WeakMap;const bi="__sak";class Ei{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bi,"1"),this.storage.removeItem(bi),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Si extends Ei{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=We();return _r(e)||Dr(e)}()&&function(){try{return!(!window||window===window.top)}catch(xw){return!1}}(),this.fallbackToPolling=Pr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Rr()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Si.type="LOCAL";const ki=Si;class Ti extends Ei{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ti.type="SESSION";const _i=Ti;class Ci{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Ci(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ii(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ci.receivers=[];class xi{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=Ii("",20);r.port1.start();const u=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(u),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function Ni(){return window}function Ai(){return"undefined"!==typeof Ni().WorkerGlobalScope&&"function"===typeof Ni().importScripts}const Di="firebaseLocalStorageDb",Ri="firebaseLocalStorage",Pi="fbase_key";class Oi{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Mi(e,t){return e.transaction([Ri],t?"readwrite":"readonly").objectStore(Ri)}function Li(){const e=indexedDB.open(Di,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Ri,{keyPath:Pi})}catch(xw){n(xw)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Ri)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Di);return new Oi(e).toPromise()}(),t(await Li()))})})}async function ji(e,t,n){const r=Mi(e,!0).put({[Pi]:t,value:n});return new Oi(r).toPromise()}function Ui(e,t){const n=Mi(e,!0).delete(t);return new Oi(n).toPromise()}class Fi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Li()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(xw){if(t++>3)throw xw;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ai()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ci._getInstance(Ai()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new xi(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Li();return await ji(e,bi,"1"),await Ui(e,bi),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ji(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Mi(e,!1).get(t),r=await new Oi(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ui(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Mi(e,!1).getAll();return new Oi(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Fi.type="LOCAL";const Vi=Fi;Fr("rcb"),new Yn(3e4,6e4);const zi="recaptcha";async function Bi(e,t,n){var r;const i=await n.verify();try{let s;if(Bn("string"===typeof i,e,"argument-error"),Bn(n.type===zi,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Bn("enroll"===t.type,e,"internal-error");const n=await function(e,t){return tr(e,"POST","/v2/accounts/mfaEnrollment:start",er(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Bn("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Bn(n,e,"missing-multi-factor-info");const a=await function(e,t){return tr(e,"POST","/v2/accounts/mfaSignIn:start",er(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return tr(e,"POST","/v1/accounts:sendVerificationCode",er(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Wi{constructor(e){this.providerId=Wi.PROVIDER_ID,this.auth=qr(e)}verifyPhoneNumber(e,t){return Bi(this.auth,e,tt(t))}static credential(e,t){return ni._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Wi.credentialFromTaggedObject(t)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ni._fromTokenResponse(n,r):null}}function qi(e,t){return t?yr(t):(Bn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Wi.PROVIDER_ID="phone",Wi.PHONE_SIGN_IN_METHOD="phone";class Hi extends Yr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ki(e){return yi(e.auth,new Hi(e),e.bypassAuthState)}function Gi(e){const{auth:t,user:n}=e;return Bn(n,t,"internal-error"),vi(n,new Hi(e),e.bypassAuthState)}async function Qi(e){const{auth:t,user:n}=e;return Bn(n,t,"internal-error"),gi(n,new Hi(e),e.bypassAuthState)}class Yi{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(xw){this.reject(xw)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(xw){this.reject(xw)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ki;case"linkViaPopup":case"linkViaRedirect":return Qi;case"reauthViaPopup":case"reauthViaRedirect":return Gi;default:Un(this.auth,"internal-error")}}resolve(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xi=new Yn(2e3,1e4);class $i extends Yi{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,$i.currentPopupAction&&$i.currentPopupAction.cancel(),$i.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Bn(e,this.auth,"internal-error"),e}async onExecution(){qn(1===this.filter.length,"Popup operations only handle one event");const e=Ii();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$i.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fn(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Xi.get())};e()}}$i.currentPopupAction=null;const Ji=new Map;class Zi extends Yi{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ji.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ns(t),r=ts(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(xw){e=()=>Promise.reject(xw)}Ji.set(this.auth._key(),e)}return this.bypassAuthState||Ji.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function es(e,t){Ji.set(e._key(),t)}function ts(e){return yr(e._redirectPersistence)}function ns(e){return Er("pendingRedirect",e.config.apiKey,e.name)}async function rs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=qr(e),i=qi(r,t),s=new Zi(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class is{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return as(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!as(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Fn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ss(e))}saveEventToCache(e){this.cachedEventUids.add(ss(e)),this.lastProcessedEventTime=Date.now()}}function ss(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function as(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const os=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ls=/^https?/;async function us(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return tr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(cs(r))return}catch(n){}Un(e,"unauthorized-domain")}function cs(e){const t=Hn(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!ls.test(n))return!1;if(os.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const hs=new Yn(3e4,6e4);function ds(){const e=Ni().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let fs=null;function ps(e){return fs=fs||function(e){return new Promise((t,n)=>{var r,i,s;function a(){ds(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ds(),n(Fn(e,"network-request-failed"))},timeout:hs.get()})}if(null===(i=null===(r=Ni().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Ni().gapi)||void 0===s?void 0:s.load)){const t=Fr("iframefcb");return Ni()[t]=()=>{gapi.load?a():n(Fn(e,"network-request-failed"))},Ur("https://apis.google.com/js/api.js?onload=".concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw fs=null,e})}(e),fs}const ms=new Yn(5e3,15e3),gs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ys(e){const t=e.config;Bn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Xn(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:yn},i=vs.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Xe(r).slice(1))}const ws={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class bs{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(xw){}}}function Es(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},ws),{width:r.toString(),height:i.toString(),top:s,left:a}),u=We().toLowerCase();n&&(o=Cr(u)?"_blank":n),Tr(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Dr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:We())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new bs(null);const h=window.open(t||"",o,c);Bn(h,e,"popup-blocked");try{h.focus()}catch(xw){}return new bs(h)}const Ss="__/auth/handler",ks="emulator/auth/handler",Ts=encodeURIComponent("fac");async function _s(e,t,n,r,i,s){Bn(e.config.authDomain,e,"auth-domain-config-required"),Bn(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:yn,eventId:i};if(t instanceof si){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof ai){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const c of Object.keys(o))void 0===o[c]&&delete o[c];const l=await e._getAppCheckToken(),u=l?"#".concat(Ts,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ss);return Xn(t,ks)}(e),"?").concat(Xe(o).slice(1)).concat(u)}const Cs="webStorageSupport";const Is=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_i,this._completeRedirectFn=rs,this._overrideRedirectResult=es}async _openPopup(e,t,n,r){var i;qn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Es(e,await _s(e,t,n,Hn(),r),Ii())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ni().location.href=e}(await _s(e,t,n,Hn(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(qn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await ps(e),n=Ni().gapi;return Bn(n,e,"internal-error"),t.open({where:document.body,url:ys(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gs,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Fn(e,"network-request-failed"),s=Ni().setTimeout(()=>{r(i)},ms.get());function a(){Ni().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}(e),n=new is(e);return t.register("authEvent",t=>{Bn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Cs,{type:Cs},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Cs];void 0!==i&&t(!!i),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=us(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Pr()||_r()||Dr()}};var xs="@firebase/auth",Ns="0.23.2";class As{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Bn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ds=ze("authIdTokenMaxAge")||300;let Rs=null;var Ps;Ps="Browser",pn(new nt("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Bn(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Ps,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Or(Ps)},u=new Wr(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(yr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),pn(new nt("auth-internal",e=>(e=>new As(e))(qr(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),En(xs,Ns,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ps)),En(xs,Ns,"esm2017");En("firebase","9.23.0","app");var Os,Ms="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ls={},js=js||{},Us=Ms||self;function Fs(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Vs(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var zs="closure_uid_"+(1e9*Math.random()>>>0),Bs=0;function Ws(e,t,n){return e.call.apply(e.bind,arguments)}function qs(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Hs(e,t,n){return(Hs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ws:qs).apply(null,arguments)}function Ks(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Gs(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Qs(){this.s=this.s,this.o=this.o}Qs.prototype.s=!1,Qs.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,zs)&&e[zs]||(e[zs]=++Bs))},Qs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ys=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Xs(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function $s(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Fs(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Js(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Js.prototype.h=function(){this.defaultPrevented=!0};var Zs=function(){if(!Us.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Us.addEventListener("test",()=>{},t),Us.removeEventListener("test",()=>{},t)}catch(n){}return e}();function ea(e){return/^[\s\xa0]*$/.test(e)}function ta(){var e=Us.navigator;return e&&(e=e.userAgent)?e:""}function na(e){return-1!=ta().indexOf(e)}function ra(e){return ra[" "](e),e}ra[" "]=function(){};var ia,sa,aa=na("Opera"),oa=na("Trident")||na("MSIE"),la=na("Edge"),ua=la||oa,ca=na("Gecko")&&!(-1!=ta().toLowerCase().indexOf("webkit")&&!na("Edge"))&&!(na("Trident")||na("MSIE"))&&!na("Edge"),ha=-1!=ta().toLowerCase().indexOf("webkit")&&!na("Edge");function da(){var e=Us.document;return e?e.documentMode:void 0}e:{var fa="",pa=function(){var e=ta();return ca?/rv:([^\);]+)(\)|;)/.exec(e):la?/Edge\/([\d\.]+)/.exec(e):oa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ha?/WebKit\/(\S+)/.exec(e):aa?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(pa&&(fa=pa?pa[1]:""),oa){var ma=da();if(null!=ma&&ma>parseFloat(fa)){ia=String(ma);break e}}ia=fa}if(Us.document&&oa){var ga=da();sa=ga||(parseInt(ia,10)||void 0)}else sa=void 0;var va=sa;function ya(e,t){if(Js.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ca){e:{try{ra(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:wa[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ya.$.h.call(this)}}Gs(ya,Js);var wa={2:"touch",3:"pen",4:"mouse"};ya.prototype.h=function(){ya.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ba="closure_listenable_"+(1e6*Math.random()|0),Ea=0;function Sa(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Ea,this.fa=this.ia=!1}function ka(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ta(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function _a(e){const t={};for(const n in e)t[n]=e[n];return t}const Ca="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ia(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Ca.length;t++)n=Ca[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function xa(e){this.src=e,this.g={},this.h=0}function Na(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Ys(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ka(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Aa(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}xa.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=Aa(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new Sa(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Da="closure_lm_"+(1e6*Math.random()|0),Ra={};function Pa(e,t,n,r,i){if(r&&r.once)return Ma(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Pa(e,t[s],n,r,i);return null}return n=Ba(n),e&&e[ba]?e.O(t,n,Vs(r)?!!r.capture:!!r,i):Oa(e,t,n,!1,r,i)}function Oa(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Vs(i)?!!i.capture:!!i,o=Va(e);if(o||(e[Da]=o=new xa(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Fa;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Zs||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ua(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ma(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ma(e,t[s],n,r,i);return null}return n=Ba(n),e&&e[ba]?e.P(t,n,Vs(r)?!!r.capture:!!r,i):Oa(e,t,n,!0,r,i)}function La(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)La(e,t[s],n,r,i);else r=Vs(r)?!!r.capture:!!r,n=Ba(n),e&&e[ba]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Aa(s=e.g[t],n,r,i))&&(ka(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Va(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Aa(t,n,r,i)),(n=-1<e?t[e]:null)&&ja(n))}function ja(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[ba])Na(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ua(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Va(t))?(Na(n,e),0==n.h&&(n.src=null,t[Da]=null)):ka(e)}}}function Ua(e){return e in Ra?Ra[e]:Ra[e]="on"+e}function Fa(e,t){if(e.fa)e=!0;else{t=new ya(t,this);var n=e.listener,r=e.la||e.src;e.ia&&ja(e),e=n.call(r,t)}return e}function Va(e){return(e=e[Da])instanceof xa?e:null}var za="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ba(e){return"function"===typeof e?e:(e[za]||(e[za]=function(t){return e.handleEvent(t)}),e[za])}function Wa(){Qs.call(this),this.i=new xa(this),this.S=this,this.J=null}function qa(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Js(t,e);else if(t instanceof Js)t.target=t.target||e;else{var i=t;Ia(t=new Js(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=Ha(a,r,!0,t)&&i}if(i=Ha(a=t.g=e,r,!0,t)&&i,i=Ha(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Ha(a=t.g=n[s],r,!1,t)&&i}function Ha(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&Na(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}Gs(Wa,Qs),Wa.prototype[ba]=!0,Wa.prototype.removeEventListener=function(e,t,n,r){La(this,e,t,n,r)},Wa.prototype.N=function(){if(Wa.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ka(n[r]);delete t.g[e],t.h--}}this.J=null},Wa.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Wa.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ka=Us.JSON.stringify;function Ga(){var e=eo;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Qa=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Ya,e=>e.reset());class Ya{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Xa(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function $a(e){Us.setTimeout(()=>{throw e},0)}let Ja,Za=!1,eo=new class{constructor(){this.h=this.g=null}add(e,t){const n=Qa.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},to=()=>{const e=Us.Promise.resolve(void 0);Ja=()=>{e.then(no)}};var no=()=>{for(var e;e=Ga();){try{e.h.call(e.g)}catch(n){$a(n)}var t=Qa;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Za=!1};function ro(e,t){Wa.call(this),this.h=e||1,this.g=t||Us,this.j=Hs(this.qb,this),this.l=Date.now()}function io(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function so(e,t,n){if("function"===typeof e)n&&(e=Hs(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Hs(e.handleEvent,e)}return 2147483647<Number(t)?-1:Us.setTimeout(e,t||0)}function ao(e){e.g=so(()=>{e.g=null,e.i&&(e.i=!1,ao(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Gs(ro,Wa),(Os=ro.prototype).ga=!1,Os.T=null,Os.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),qa(this,"tick"),this.ga&&(io(this),this.start()))}},Os.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Os.N=function(){ro.$.N.call(this),io(this),delete this.g};class oo extends Qs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ao(this)}N(){super.N(),this.g&&(Us.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lo(e){Qs.call(this),this.h=e,this.g={}}Gs(lo,Qs);var uo=[];function co(e,t,n,r){Array.isArray(n)||(n&&(uo[0]=n.toString()),n=uo);for(var i=0;i<n.length;i++){var s=Pa(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function ho(e){Ta(e.g,function(e,t){this.g.hasOwnProperty(t)&&ja(e)},e),e.g={}}function fo(){this.g=!0}function po(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return Ka(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}lo.prototype.N=function(){lo.$.N.call(this),ho(this)},lo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fo.prototype.Ea=function(){this.g=!1},fo.prototype.info=function(){};var mo={},go=null;function vo(){return go=go||new Wa}function yo(e){Js.call(this,mo.Ta,e)}function wo(e){const t=vo();qa(t,new yo(t))}function bo(e,t){Js.call(this,mo.STAT_EVENT,e),this.stat=t}function Eo(e){const t=vo();qa(t,new bo(t,e))}function So(e,t){Js.call(this,mo.Ua,e),this.size=t}function ko(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Us.setTimeout(function(){e()},t)}mo.Ta="serverreachability",Gs(yo,Js),mo.STAT_EVENT="statevent",Gs(bo,Js),mo.Ua="timingevent",Gs(So,Js);var To={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},_o={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Co(){}function Io(e){return e.h||(e.h=e.i())}function xo(){}Co.prototype.h=null;var No,Ao={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Do(){Js.call(this,"d")}function Ro(){Js.call(this,"c")}function Po(){}function Oo(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new lo(this),this.P=Lo,e=ua?125:void 0,this.V=new ro(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Mo}function Mo(){this.i=null,this.g="",this.h=!1}Gs(Do,Js),Gs(Ro,Js),Gs(Po,Co),Po.prototype.g=function(){return new XMLHttpRequest},Po.prototype.i=function(){return{}},No=new Po;var Lo=45e3,jo={},Uo={};function Fo(e,t,n){e.L=1,e.v=il(Zo(t)),e.s=n,e.S=!0,Vo(e,null)}function Vo(e,t){e.G=Date.now(),qo(e),e.A=Zo(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),vl(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Mo,e.g=yu(e.l,n?t:null,!e.s),0<e.O&&(e.M=new oo(Hs(e.Pa,e,e.g),e.O)),co(e.U,e.g,"readystatechange",e.nb),t=e.I?_a(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),wo(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var u=o[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+u+"&":a+(c+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.j,e.u,e.A,e.m,e.W,e.s)}function zo(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Bo(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=Wo(e,n),r==Uo){4==t&&(e.o=4,Eo(14),i=!1),po(e.j,e.m,null,"[Incomplete Response]");break}if(r==jo){e.o=4,Eo(15),po(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}po(e.j,e.m,r,null),Yo(e,r)}zo(e)&&r!=Uo&&r!=jo&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Eo(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),cu(t),t.M=!0,Eo(11))):(po(e.j,e.m,n,"[Invalid Chunked Response]"),Qo(e),Go(e))}function Wo(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Uo:(n=Number(t.substring(n,r)),isNaN(n)?jo:(r+=1)+n>t.length?Uo:(t=t.slice(r,r+n),e.C=r+n,t))}function qo(e){e.Y=Date.now()+e.P,Ho(e,e.P)}function Ho(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ko(Hs(e.lb,e),t)}function Ko(e){e.B&&(Us.clearTimeout(e.B),e.B=null)}function Go(e){0==e.l.H||e.J||fu(e.l,e)}function Qo(e){Ko(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,io(e.V),ho(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Yo(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Tl(n.i,e)))if(!e.K&&Tl(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;du(n),nu(n)}uu(n),Eo(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ko(Hs(n.ib,n),6e3));if(1>=kl(n.i)&&n.oa){try{n.oa()}catch(u){}n.oa=void 0}}else mu(n,11)}else if((e.K||n.g==e)&&du(n),!ea(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const t=u[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=u[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(_l(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,rl(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=vu(r,r.J?r.pa:null,r.Y),a.K){Cl(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.B&&(Ko(o),qo(o)),r.g=a}else lu(r);0<n.j.length&&iu(n)}else"stop"!=u[0]&&"close"!=u[0]||mu(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?mu(n,7):tu(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}wo()}catch(u){}}function Xo(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Fs(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Fs(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Fs(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Os=Oo.prototype).setTimeout=function(e){this.P=e},Os.nb=function(e){e=e.target;const t=this.M;t&&3==Yl(e)?t.l():this.Pa(e)},Os.Pa=function(e){try{if(e==this.g)e:{const c=Yl(this.g);var t=this.g.Ia();this.g.da();if(!(3>c)&&(3!=c||ua||this.g&&(this.h.h||this.g.ja()||Xl(this.g)))){this.J||4!=c||7==t||wo(),Ko(this);var n=this.g.da();this.ca=n;t:if(zo(this)){var r=Xl(this.g);e="";var i=r.length,s=4==Yl(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Qo(this),Go(this);var a="";break t}this.h.i=new Us.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ea(o)){var u=o;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Eo(12),Qo(this),Go(this);break e}po(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yo(this,n)}this.S?(Bo(this,c,a),ua&&this.i&&3==c&&(co(this.U,this.V,"tick",this.mb),this.V.start())):(po(this.j,this.m,a,null),Yo(this,a)),4==c&&Qo(this),this.i&&!this.J&&(4==c?fu(this.l,this):(this.i=!1,qo(this)))}else(function(e){const t={};e=(e.g&&2<=Yl(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(ea(e[r]))continue;var n=Xa(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,Eo(12)):(this.o=0,Eo(13)),Qo(this),Go(this)}}}catch(c){}},Os.mb=function(){if(this.g){var e=Yl(this.g),t=this.g.ja();this.C<t.length&&(Ko(this),Bo(this,e,t),this.i&&4!=e&&qo(this))}},Os.cancel=function(){this.J=!0,Qo(this)},Os.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(wo(),Eo(17)),Qo(this),this.o=2,Go(this)):Ho(this,this.Y-e)};var $o=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jo(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Jo){this.h=e.h,el(this,e.j),this.s=e.s,this.g=e.g,tl(this,e.m),this.l=e.l;var t=e.i,n=new fl;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),nl(this,n),this.o=e.o}else e&&(t=String(e).match($o))?(this.h=!1,el(this,t[1]||"",!0),this.s=sl(t[2]||""),this.g=sl(t[3]||"",!0),tl(this,t[4]),this.l=sl(t[5]||"",!0),nl(this,t[6]||"",!0),this.o=sl(t[7]||"")):(this.h=!1,this.i=new fl(null,this.h))}function Zo(e){return new Jo(e)}function el(e,t,n){e.j=n?sl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function tl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function nl(e,t,n){t instanceof fl?(e.i=t,function(e,t){t&&!e.j&&(pl(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(ml(this,t),vl(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=al(t,hl)),e.i=new fl(t,e.h))}function rl(e,t,n){e.i.set(t,n)}function il(e){return rl(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function sl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function al(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ol),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ol(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Jo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(al(t,ll,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(al(t,ll,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(al(n,"/"==n.charAt(0)?cl:ul,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",al(n,dl)),e.join("")};var ll=/[#\/\?@]/g,ul=/[#\?:]/g,cl=/[#\?]/g,hl=/[#\?@]/g,dl=/#/g;function fl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function pl(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function ml(e,t){pl(e),t=yl(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function gl(e,t){return pl(e),t=yl(e,t),e.g.has(t)}function vl(e,t,n){ml(e,t),0<n.length&&(e.i=null,e.g.set(yl(e,t),Xs(n)),e.h+=n.length)}function yl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Os=fl.prototype).add=function(e,t){pl(this),this.i=null,e=yl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Os.forEach=function(e,t){pl(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},Os.ta=function(){pl(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Os.Z=function(e){pl(this);let t=[];if("string"===typeof e)gl(this,e)&&(t=t.concat(this.g.get(yl(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Os.set=function(e,t){return pl(this),this.i=null,gl(this,e=yl(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Os.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Os.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var wl=class{constructor(e,t){this.g=e,this.map=t}};function bl(e){this.l=e||El,Us.PerformanceNavigationTiming?e=0<(e=Us.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Us.g&&Us.g.Ka&&Us.g.Ka()&&Us.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var El=10;function Sl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function kl(e){return e.h?1:e.g?e.g.size:0}function Tl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function _l(e,t){e.g?e.g.add(t):e.h=t}function Cl(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Il(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Xs(e.i)}bl.prototype.cancel=function(){if(this.i=Il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var xl,Nl=class{stringify(e){return Us.JSON.stringify(e,void 0)}parse(e){return Us.JSON.parse(e,void 0)}};function Al(){this.g=new Nl}function Dl(e,t,n){const r=n||"";try{Xo(e,function(e,n){let i=e;Vs(e)&&(i=Ka(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(xw){throw t.push(r+"type="+encodeURIComponent("_badmap")),xw}}function Rl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Pl(e){this.l=e.fc||null,this.j=e.ob||!1}function Ol(e,t){Wa.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Ml,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gs(Pl,Co),Pl.prototype.g=function(){return new Ol(this.l,this.j)},Pl.prototype.i=(xl={},function(){return xl}),Gs(Ol,Wa);var Ml=0;function Ll(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function jl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ul(e)}function Ul(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Os=Ol.prototype).open=function(e,t){if(this.readyState!=Ml)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ul(this)},Os.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Us).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Os.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jl(this)),this.readyState=Ml},Os.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ul(this)),this.g&&(this.readyState=3,Ul(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Us.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ll(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Os.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jl(this):Ul(this),3==this.readyState&&Ll(this)}},Os.Za=function(e){this.g&&(this.response=this.responseText=e,jl(this))},Os.Ya=function(e){this.g&&(this.response=e,jl(this))},Os.ka=function(){this.g&&jl(this)},Os.setRequestHeader=function(e,t){this.v.append(e,t)},Os.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Os.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ol.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Fl=Us.JSON.parse;function Vl(e){Wa.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=zl,this.L=this.M=!1}Gs(Vl,Wa);var zl="",Bl=/^https?$/i,Wl=["POST","PUT"];function ql(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Hl(e),Gl(e)}function Hl(e){e.F||(e.F=!0,qa(e,"complete"),qa(e,"error"))}function Kl(e){if(e.h&&"undefined"!=typeof js&&(!e.C[1]||4!=Yl(e)||2!=e.da()))if(e.v&&4==Yl(e))so(e.La,0,e);else if(qa(e,"readystatechange"),4==Yl(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match($o)[1]||null;!i&&Us.self&&Us.self.location&&(i=Us.self.location.protocol.slice(0,-1)),r=!Bl.test(i?i.toLowerCase():"")}n=r}if(n)qa(e,"complete"),qa(e,"success");else{e.m=6;try{var s=2<Yl(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.da()+"]",Hl(e)}}finally{Gl(e)}}}function Gl(e,t){if(e.g){Ql(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||qa(e,"ready");try{n.onreadystatechange=r}catch(xw){}}}function Ql(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Us.clearTimeout(e.A),e.A=null)}function Yl(e){return e.g?e.g.readyState:0}function Xl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case zl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(tc){return null}}function $l(e){let t="";return Ta(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Jl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=$l(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):rl(e,t,n))}function Zl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function eu(e){this.Ga=0,this.j=[],this.l=new fo,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Zl("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Zl("baseRetryDelayMs",5e3,e),this.hb=Zl("retryDelaySeedMs",1e4,e),this.eb=Zl("forwardChannelMaxRetries",2,e),this.xa=Zl("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new bl(e&&e.concurrentRequestLimit),this.Ja=new Al,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function tu(e){if(ru(e),3==e.H){var t=e.W++,n=Zo(e.I);if(rl(n,"SID",e.K),rl(n,"RID",t),rl(n,"TYPE","terminate"),au(e,n),(t=new Oo(e,e.l,t)).L=2,t.v=il(Zo(n)),n=!1,Us.navigator&&Us.navigator.sendBeacon)try{n=Us.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Us.Image&&((new Image).src=t.v,n=!0),n||(t.g=yu(t.l,null),t.g.ha(t.v)),t.G=Date.now(),qo(t)}gu(e)}function nu(e){e.g&&(cu(e),e.g.cancel(),e.g=null)}function ru(e){nu(e),e.u&&(Us.clearTimeout(e.u),e.u=null),du(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Us.clearTimeout(e.m),e.m=null)}function iu(e){if(!Sl(e.i)&&!e.m){e.m=!0;var t=e.Na;Ja||to(),Za||(Ja(),Za=!0),eo.add(t,e),e.C=0}}function su(e,t){var n;n=t?t.m:e.W++;const r=Zo(e.I);rl(r,"SID",e.K),rl(r,"RID",n),rl(r,"AID",e.V),au(e,r),e.o&&e.s&&Jl(r,e.o,e.s),n=new Oo(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=ou(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),_l(e.i,n),Fo(n,r,t)}function au(e,t){e.na&&Ta(e.na,function(e,n){rl(t,n,e)}),e.h&&Xo({},function(e,n){rl(t,n,e)})}function ou(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Hs(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Dl(o,e,"req"+n+"_")}catch(dc){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function lu(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ja||to(),Za||(Ja(),Za=!0),eo.add(t,e),e.A=0}}function uu(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=ko(Hs(e.Ma,e),pu(e,e.A)),e.A++,!0)}function cu(e){null!=e.B&&(Us.clearTimeout(e.B),e.B=null)}function hu(e){e.g=new Oo(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Zo(e.wa);rl(t,"RID","rpc"),rl(t,"SID",e.K),rl(t,"AID",e.V),rl(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&rl(t,"TO",e.qa),rl(t,"TYPE","xmlhttp"),au(e,t),e.o&&e.s&&Jl(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=il(Zo(t)),n.s=null,n.S=!0,Vo(n,e)}function du(e){null!=e.v&&(Us.clearTimeout(e.v),e.v=null)}function fu(e,t){var n=null;if(e.g==t){du(e),cu(e),e.g=null;var r=2}else{if(!Tl(e.i,t))return;n=t.F,Cl(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;qa(r=vo(),new So(r,n)),iu(e)}else lu(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(kl(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=ko(Hs(e.Na,e,t),pu(e,e.C)),e.C++,!0))}(e,t)||2==r&&uu(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:mu(e,5);break;case 4:mu(e,10);break;case 3:mu(e,6);break;default:mu(e,2)}}function pu(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function mu(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Hs(e.pb,e);n||(n=new Jo("//www.google.com/images/cleardot.gif"),Us.location&&"http"==Us.location.protocol||el(n,"https"),il(n)),function(e,t){const n=new fo;if(Us.Image){const r=new Image;r.onload=Ks(Rl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ks(Rl,n,r,"TestLoadImage: error",!1,t),r.onabort=Ks(Rl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ks(Rl,n,r,"TestLoadImage: timeout",!1,t),Us.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Eo(2);e.H=0,e.h&&e.h.za(t),gu(e),ru(e)}function gu(e){if(e.H=0,e.ma=[],e.h){const t=Il(e.i);0==t.length&&0==e.j.length||($s(e.ma,t),$s(e.ma,e.j),e.i.i.length=0,Xs(e.j),e.j.length=0),e.h.ya()}}function vu(e,t,n){var r=n instanceof Jo?Zo(n):new Jo(n);if(""!=r.g)t&&(r.g=t+"."+r.g),tl(r,r.m);else{var i=Us.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Jo(null);r&&el(s,r),t&&(s.g=t),i&&tl(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&rl(r,n,t),rl(r,"VER",e.ra),au(e,r),r}function yu(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Vl(new Pl({ob:!0})):new Vl(e.va)).Oa(e.J),t}function wu(){}function bu(){if(oa&&!(10<=Number(va)))throw Error("Environmental error: no available transport.")}function Eu(e,t){Wa.call(this),this.g=new eu(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ea(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ea(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Tu(this)}function Su(e){Do.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ku(){Ro.call(this),this.status=1}function Tu(e){this.g=e}function _u(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Cu(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Iu(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Os=Vl.prototype).Oa=function(e){this.M=e},Os.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():No.g(),this.C=this.u?Io(this.u):Io(No),this.g.onreadystatechange=Hs(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void ql(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=Us.FormData&&e instanceof Us.FormData,!(0<=Ys(Wl,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ql(this),0<this.B&&((this.L=function(e){return oa&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Hs(this.ua,this)):this.A=so(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){ql(this,s)}},Os.ua=function(){"undefined"!=typeof js&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qa(this,"timeout"),this.abort(8))},Os.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,qa(this,"complete"),qa(this,"abort"),Gl(this))},Os.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gl(this,!0)),Vl.$.N.call(this)},Os.La=function(){this.s||(this.G||this.v||this.l?Kl(this):this.kb())},Os.kb=function(){Kl(this)},Os.isActive=function(){return!!this.g},Os.da=function(){try{return 2<Yl(this)?this.g.status:-1}catch(xl){return-1}},Os.ja=function(){try{return this.g?this.g.responseText:""}catch(xl){return""}},Os.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Fl(t)}},Os.Ia=function(){return this.m},Os.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Os=eu.prototype).ra=8,Os.H=1,Os.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Oo(this,this.l,e);let s=this.s;if(this.U&&(s?(s=_a(s),Ia(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ou(this,i,t),rl(n=Zo(this.I),"RID",e),rl(n,"CVER",22),this.F&&rl(n,"X-HTTP-Session-Id",this.F),au(this,n),s&&(this.O?t="headers="+encodeURIComponent(String($l(s)))+"&"+t:this.o&&Jl(n,this.o,s)),_l(this.i,i),this.bb&&rl(n,"TYPE","init"),this.P?(rl(n,"$req",t),rl(n,"SID","null"),i.aa=!0,Fo(i,n,null)):Fo(i,n,t),this.H=2}}else 3==this.H&&(e?su(this,e):0==this.j.length||Sl(this.i)||su(this))},Os.Ma=function(){if(this.u=null,hu(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ko(Hs(this.jb,this),e)}},Os.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Eo(10),nu(this),hu(this))},Os.ib=function(){null!=this.v&&(this.v=null,nu(this),uu(this),Eo(19))},Os.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Eo(2)):(this.l.info("Failed to ping google.com"),Eo(1))},Os.isActive=function(){return!!this.h&&this.h.isActive(this)},(Os=wu.prototype).Ba=function(){},Os.Aa=function(){},Os.za=function(){},Os.ya=function(){},Os.isActive=function(){return!0},Os.Va=function(){},bu.prototype.g=function(e,t){return new Eu(e,t)},Gs(Eu,Wa),Eu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Eo(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=vu(e,null,e.Y),iu(e)},Eu.prototype.close=function(){tu(this.g)},Eu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ka(e),e=n);t.j.push(new wl(t.fb++,e)),3==t.H&&iu(t)},Eu.prototype.N=function(){this.g.h=null,delete this.j,tu(this.g),delete this.g,Eu.$.N.call(this)},Gs(Su,Do),Gs(ku,Ro),Gs(Tu,wu),Tu.prototype.Ba=function(){qa(this.g,"a")},Tu.prototype.Aa=function(e){qa(this.g,new Su(e))},Tu.prototype.za=function(e){qa(this.g,new ku)},Tu.prototype.ya=function(){qa(this.g,"b")},Gs(_u,function(){this.blockSize=-1}),_u.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},_u.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Cu(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Cu(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Cu(this,r),i=0;break}}this.h=i,this.i+=t},_u.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var xu={};function Nu(e){return-128<=e&&128>e?function(e,t){var n=xu;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new Iu([0|e],0>e?-1:0)}):new Iu([0|e],0>e?-1:0)}function Au(e){if(isNaN(e)||!isFinite(e))return Ru;if(0>e)return ju(Au(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Du;return new Iu(t,0)}var Du=4294967296,Ru=Nu(0),Pu=Nu(1),Ou=Nu(16777216);function Mu(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Lu(e){return-1==e.h}function ju(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Iu(n,~e.h).add(Pu)}function Uu(e,t){return e.add(ju(t))}function Fu(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Vu(e,t){this.g=e,this.h=t}function zu(e,t){if(Mu(t))throw Error("division by zero");if(Mu(e))return new Vu(Ru,Ru);if(Lu(e))return t=zu(ju(e),t),new Vu(ju(t.g),ju(t.h));if(Lu(t))return t=zu(e,ju(t)),new Vu(ju(t.g),t.h);if(30<e.g.length){if(Lu(e)||Lu(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Pu,r=t;0>=r.X(e);)n=Bu(n),r=Bu(r);var i=Wu(n,1),s=Wu(r,1);for(r=Wu(r,2),n=Wu(n,2);!Mu(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=Wu(r,1),n=Wu(n,1)}return t=Uu(e,i.R(t)),new Vu(i,t)}for(i=Ru;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=Au(n)).R(t);Lu(a)||0<a.X(e);)a=(s=Au(n-=r)).R(t);Mu(s)&&(s=Pu),i=i.add(s),e=Uu(e,a)}return new Vu(i,e)}function Bu(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Iu(n,e.h)}function Wu(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Iu(i,e.h)}(Os=Iu.prototype).ea=function(){if(Lu(this))return-ju(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Du+r)*t,t*=Du}return e},Os.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Mu(this))return"0";if(Lu(this))return"-"+ju(this).toString(e);for(var t=Au(Math.pow(e,6)),n=this,r="";;){var i=zu(n,t).g,s=((0<(n=Uu(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Mu(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Os.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Os.X=function(e){return Lu(e=Uu(this,e))?-1:Mu(e)?0:1},Os.abs=function(){return Lu(this)?ju(this):this},Os.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new Iu(n,-2147483648&n[n.length-1]?-1:0)},Os.R=function(e){if(Mu(this)||Mu(e))return Ru;if(Lu(this))return Lu(e)?ju(this).R(ju(e)):ju(ju(this).R(e));if(Lu(e))return ju(this.R(ju(e)));if(0>this.X(Ou)&&0>e.X(Ou))return Au(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,Fu(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Fu(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,Fu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,Fu(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Iu(n,0)},Os.gb=function(e){return zu(this,e).h},Os.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Iu(n,this.h&e.h)},Os.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Iu(n,this.h|e.h)},Os.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Iu(n,this.h^e.h)},bu.prototype.createWebChannel=bu.prototype.g,Eu.prototype.send=Eu.prototype.u,Eu.prototype.open=Eu.prototype.m,Eu.prototype.close=Eu.prototype.close,To.NO_ERROR=0,To.TIMEOUT=8,To.HTTP_ERROR=6,_o.COMPLETE="complete",xo.EventType=Ao,Ao.OPEN="a",Ao.CLOSE="b",Ao.ERROR="c",Ao.MESSAGE="d",Wa.prototype.listen=Wa.prototype.O,Vl.prototype.listenOnce=Vl.prototype.P,Vl.prototype.getLastError=Vl.prototype.Sa,Vl.prototype.getLastErrorCode=Vl.prototype.Ia,Vl.prototype.getStatus=Vl.prototype.da,Vl.prototype.getResponseJson=Vl.prototype.Wa,Vl.prototype.getResponseText=Vl.prototype.ja,Vl.prototype.send=Vl.prototype.ha,Vl.prototype.setWithCredentials=Vl.prototype.Oa,_u.prototype.digest=_u.prototype.l,_u.prototype.reset=_u.prototype.reset,_u.prototype.update=_u.prototype.j,Iu.prototype.add=Iu.prototype.add,Iu.prototype.multiply=Iu.prototype.R,Iu.prototype.modulo=Iu.prototype.gb,Iu.prototype.compare=Iu.prototype.X,Iu.prototype.toNumber=Iu.prototype.ea,Iu.prototype.toString=Iu.prototype.toString,Iu.prototype.getBits=Iu.prototype.D,Iu.fromNumber=Au,Iu.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return ju(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Au(Math.pow(n,8)),i=Ru,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=Au(Math.pow(n,a)),i=i.R(a).add(Au(o))):i=(i=i.R(r)).add(Au(o))}return i};var qu=Ls.createWebChannelTransport=function(){return new bu},Hu=Ls.getStatEventTarget=function(){return vo()},Ku=Ls.ErrorCode=To,Gu=Ls.EventType=_o,Qu=Ls.Event=mo,Yu=Ls.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Xu=Ls.FetchXmlHttpFactory=Pl,$u=Ls.WebChannel=xo,Ju=Ls.XhrIo=Vl,Zu=Ls.Md5=_u,ec=Ls.Integer=Iu;const tc="@firebase/firestore";class nc{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nc.UNAUTHENTICATED=new nc(null),nc.GOOGLE_CREDENTIALS=new nc("google-credentials-uid"),nc.FIRST_PARTY=new nc("first-party-uid"),nc.MOCK_USER=new nc("mock-user");let rc="9.23.0";const ic=new dt("@firebase/firestore");function sc(){return ic.logLevel}function ac(e){if(ic.logLevel<=ot.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(uc);ic.debug("Firestore (".concat(rc,"): ").concat(e),...i)}}function oc(e){if(ic.logLevel<=ot.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(uc);ic.error("Firestore (".concat(rc,"): ").concat(e),...i)}}function lc(e){if(ic.logLevel<=ot.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(uc);ic.warn("Firestore (".concat(rc,"): ").concat(e),...i)}}function uc(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function cc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(rc,") INTERNAL ASSERTION FAILED: ")+e;throw oc(t),new Error(t)}function hc(e,t){e||cc()}function dc(e,t){return e}const fc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pc extends He{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class mc{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class gc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class vc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nc.UNAUTHENTICATED))}shutdown(){}}class yc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class wc{constructor(e){this.t=e,this.currentUser=nc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new mc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new mc,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{ac("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(ac("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new mc)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(ac("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(hc("string"==typeof t.accessToken),new gc(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return hc(null===e||"string"==typeof e),new nc(e)}}class bc{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=nc.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Ec{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new bc(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(nc.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kc{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&ac("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,ac("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{ac("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):ac("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(hc("string"==typeof e.token),this.T=e.token,new Sc(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Tc(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class _c{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Tc(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Cc(e,t){return e<t?-1:e>t?1:0}function Ic(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class xc{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pc(fc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pc(fc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new pc(fc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pc(fc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xc.fromMillis(Date.now())}static fromDate(e){return xc.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new xc(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Cc(this.nanoseconds,e.nanoseconds):Cc(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nc{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nc(e)}static min(){return new Nc(new xc(0,0))}static max(){return new Nc(new xc(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ac{constructor(e,t,n){void 0===t?t=0:t>e.length&&cc(),void 0===n?n=e.length-t:n>e.length-t&&cc(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ac.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ac?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Dc extends Ac{construct(e,t,n){return new Dc(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new pc(fc.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Dc(e)}static emptyPath(){return new Dc([])}}const Rc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pc extends Ac{construct(e,t,n){return new Pc(e,t,n)}static isValidIdentifier(e){return Rc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pc.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Pc(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new pc(fc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new pc(fc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new pc(fc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new pc(fc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pc(t)}static emptyPath(){return new Pc([])}}class Oc{constructor(e){this.path=e}static fromPath(e){return new Oc(Dc.fromString(e))}static fromName(e){return new Oc(Dc.fromString(e).popFirst(5))}static empty(){return new Oc(Dc.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Dc.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Dc.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oc(new Dc(e.slice()))}}class Mc{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Mc.UNKNOWN_ID=-1;function Lc(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Nc.fromTimestamp(1e9===r?new xc(n+1,0):new xc(n,r));return new Uc(i,Oc.empty(),t)}function jc(e){return new Uc(e.readTime,e.key,-1)}class Uc{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Uc(Nc.min(),Oc.empty(),-1)}static max(){return new Uc(Nc.max(),Oc.empty(),-1)}}function Fc(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Oc.comparator(e.documentKey,t.documentKey),0!==n?n:Cc(e.largestBatchId,t.largestBatchId))}const Vc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Bc(e){if(e.code!==fc.FAILED_PRECONDITION||e.message!==Vc)throw e;ac("LocalStore","Unexpectedly lost primary lease")}class Wc{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&cc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Wc((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Wc?t:Wc.resolve(t)}catch(e){return Wc.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Wc.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Wc.reject(t)}static resolve(e){return new Wc((t,n)=>{t(e)})}static reject(e){return new Wc((t,n)=>{n(e)})}static waitFor(e){return new Wc((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Wc.resolve(!1);for(const n of e)t=t.next(e=>e?Wc.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Wc((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new Wc((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function qc(e){return"IndexedDbTransactionError"===e.name}class Hc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Kc(e){return null==e}function Gc(e){return 0===e&&1/e==-1/0}function Qc(e){return"number"==typeof e&&Number.isInteger(e)&&!Gc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Hc.ct=-1;const Yc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Xc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$c=Xc;function Jc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Zc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function eh(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class th{constructor(e,t){this.comparator=e,this.root=t||rh.EMPTY}insert(e,t){return new th(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rh.BLACK,null,null))}remove(e){return new th(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rh.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}}class nh{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rh{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:rh.RED,this.left=null!=r?r:rh.EMPTY,this.right=null!=i?i:rh.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new rh(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return rh.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return rh.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rh.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw cc();if(this.right.isRed())throw cc();const e=this.left.check();if(e!==this.right.check())throw cc();return e+(this.isRed()?0:1)}}rh.EMPTY=null,rh.RED=!0,rh.BLACK=!1,rh.EMPTY=new class{constructor(){this.size=0}get key(){throw cc()}get value(){throw cc()}get color(){throw cc()}get left(){throw cc()}get right(){throw cc()}copy(e,t,n,r,i){return this}insert(e,t,n){return new rh(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ih{constructor(e){this.comparator=e,this.data=new th(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sh(this.data.getIterator())}getIteratorFrom(e){return new sh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof ih))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ih(this.comparator);return t.data=e,t}}class sh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ah{constructor(e){this.fields=e,e.sort(Pc.comparator)}static empty(){return new ah([])}unionWith(e){let t=new ih(Pc.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ah(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ic(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class oh extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class lh{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new oh("Invalid base64 string: "+e):e}}(e);return new lh(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new lh(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Cc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lh.EMPTY_BYTE_STRING=new lh("");const uh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ch(e){if(hc(!!e),"string"==typeof e){let t=0;const n=uh.exec(e);if(hc(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:hh(e.seconds),nanos:hh(e.nanos)}}function hh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function dh(e){return"string"==typeof e?lh.fromBase64String(e):lh.fromUint8Array(e)}function fh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ph(e){const t=e.mapValue.fields.__previous_value__;return fh(t)?ph(t):t}function mh(e){const t=ch(e.mapValue.fields.__local_write_time__.timestampValue);return new xc(t.seconds,t.nanos)}class gh{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class vh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof vh&&e.projectId===this.projectId&&e.database===this.database}}const yh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fh(e)?4:Ph(e)?9007199254740991:10:cc()}function bh(e,t){if(e===t)return!0;const n=wh(e);if(n!==wh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return mh(e).isEqual(mh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ch(e.timestampValue),r=ch(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return dh(e.bytesValue).isEqual(dh(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return hh(e.geoPointValue.latitude)===hh(t.geoPointValue.latitude)&&hh(e.geoPointValue.longitude)===hh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return hh(e.integerValue)===hh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=hh(e.doubleValue),r=hh(t.doubleValue);return n===r?Gc(n)===Gc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ic(e.arrayValue.values||[],t.arrayValue.values||[],bh);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Jc(n)!==Jc(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!bh(n[i],r[i])))return!1;return!0}(e,t);default:return cc()}}function Eh(e,t){return void 0!==(e.values||[]).find(e=>bh(e,t))}function Sh(e,t){if(e===t)return 0;const n=wh(e),r=wh(t);if(n!==r)return Cc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Cc(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=hh(e.integerValue||e.doubleValue),r=hh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return kh(e.timestampValue,t.timestampValue);case 4:return kh(mh(e),mh(t));case 5:return Cc(e.stringValue,t.stringValue);case 6:return function(e,t){const n=dh(e),r=dh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Cc(n[i],r[i]);if(0!==e)return e}return Cc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Cc(hh(e.latitude),hh(t.latitude));return 0!==n?n:Cc(hh(e.longitude),hh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Sh(n[i],r[i]);if(e)return e}return Cc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===yh.mapValue&&t===yh.mapValue)return 0;if(e===yh.mapValue)return 1;if(t===yh.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Cc(r[a],s[a]);if(0!==e)return e;const t=Sh(n[r[a]],i[s[a]]);if(0!==t)return t}return Cc(r.length,s.length)}(e.mapValue,t.mapValue);default:throw cc()}}function kh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Cc(e,t);const n=ch(e),r=ch(t),i=Cc(n.seconds,r.seconds);return 0!==i?i:Cc(n.nanos,r.nanos)}function Th(e){return _h(e)}function _h(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ch(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?dh(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Oc.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=_h(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(_h(e.fields[i]));return n+"}"}(e.mapValue):cc();var t,n}function Ch(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ih(e){return!!e&&"integerValue"in e}function xh(e){return!!e&&"arrayValue"in e}function Nh(e){return!!e&&"nullValue"in e}function Ah(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Dh(e){return!!e&&"mapValue"in e}function Rh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Zc(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Rh(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Rh(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Ph(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Oh{constructor(e){this.value=e}static empty(){return new Oh({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Dh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rh(t)}setAll(e){let t=Pc.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Rh(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Dh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bh(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Dh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Zc(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Oh(Rh(this.value))}}function Mh(e){const t=[];return Zc(e.fields,(e,n)=>{const r=new Pc([e]);if(Dh(n)){const e=Mh(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new ah(t)}class Lh{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Lh(e,0,Nc.min(),Nc.min(),Nc.min(),Oh.empty(),0)}static newFoundDocument(e,t,n,r){return new Lh(e,1,t,Nc.min(),n,r,0)}static newNoDocument(e,t){return new Lh(e,2,t,Nc.min(),Nc.min(),Oh.empty(),0)}static newUnknownDocument(e,t){return new Lh(e,3,t,Nc.min(),Nc.min(),Oh.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Nc.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oh.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oh.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nc.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Lh&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Lh(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class jh{constructor(e,t){this.position=e,this.inclusive=t}}function Uh(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Oc.comparator(Oc.fromName(a.referenceValue),n.key):Sh(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Fh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!bh(e.position[n],t.position[n]))return!1;return!0}class Vh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function zh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Bh{}class Wh extends Bh{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new $h(e,t,n):"array-contains"===t?new td(e,n):"in"===t?new nd(e,n):"not-in"===t?new rd(e,n):"array-contains-any"===t?new id(e,n):new Wh(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Jh(e,n):new Zh(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Sh(t,this.value)):null!==t&&wh(this.value)===wh(t)&&this.matchesComparison(Sh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return cc()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class qh extends Bh{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new qh(e,t)}matches(e){return Hh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(e=>e.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Hh(e){return"and"===e.op}function Kh(e){return Gh(e)&&Hh(e)}function Gh(e){for(const t of e.filters)if(t instanceof qh)return!1;return!0}function Qh(e){if(e instanceof Wh)return e.field.canonicalString()+e.op.toString()+Th(e.value);if(Kh(e))return e.filters.map(e=>Qh(e)).join(",");{const t=e.filters.map(e=>Qh(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Yh(e,t){return e instanceof Wh?function(e,t){return t instanceof Wh&&e.op===t.op&&e.field.isEqual(t.field)&&bh(e.value,t.value)}(e,t):e instanceof qh?function(e,t){return t instanceof qh&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Yh(n,t.filters[r]),!0)}(e,t):void cc()}function Xh(e){return e instanceof Wh?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Th(e.value))}(e):e instanceof qh?function(e){return e.op.toString()+" {"+e.getFilters().map(Xh).join(" ,")+"}"}(e):"Filter"}class $h extends Wh{constructor(e,t,n){super(e,t,n),this.key=Oc.fromName(n.referenceValue)}matches(e){const t=Oc.comparator(e.key,this.key);return this.matchesComparison(t)}}class Jh extends Wh{constructor(e,t){super(e,"in",t),this.keys=ed("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Zh extends Wh{constructor(e,t){super(e,"not-in",t),this.keys=ed("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ed(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Oc.fromName(e.referenceValue))}class td extends Wh{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return xh(t)&&Eh(t.arrayValue,this.value)}}class nd extends Wh{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Eh(this.value.arrayValue,t)}}class rd extends Wh{constructor(e,t){super(e,"not-in",t)}matches(e){if(Eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Eh(this.value.arrayValue,t)}}class id extends Wh{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!xh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Eh(this.value.arrayValue,e))}}class sd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.dt=null}}function ad(e){return new sd(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function od(e){const t=dc(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Qh(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Kc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Th(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Th(e)).join(",")),t.dt=e}return t.dt}function ld(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!zh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Yh(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Fh(e.startAt,t.startAt)&&Fh(e.endAt,t.endAt)}function ud(e){return Oc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class cd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.wt=null,this._t=null,this.startAt,this.endAt}}function hd(e,t,n,r,i,s,a,o){return new cd(e,t,n,r,i,s,a,o)}function dd(e){return new cd(e)}function fd(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function pd(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function md(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function gd(e){return null!==e.collectionGroup}function vd(e){const t=dc(e);if(null===t.wt){t.wt=[];const e=md(t),n=pd(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new Vh(e)),t.wt.push(new Vh(Pc.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Vh(Pc.keyField(),e))}}}return t.wt}function yd(e){const t=dc(e);if(!t._t)if("F"===t.limitType)t._t=ad(t.path,t.collectionGroup,vd(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of vd(t)){const t="desc"===i.dir?"asc":"desc";e.push(new Vh(i.field,t))}const n=t.endAt?new jh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jh(t.startAt.position,t.startAt.inclusive):null;t._t=ad(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function wd(e,t){t.getFirstInequalityField(),md(e);const n=e.filters.concat([t]);return new cd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function bd(e,t,n){return new cd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ed(e,t){return ld(yd(e),yd(t))&&e.limitType===t.limitType}function Sd(e){return"".concat(od(yd(e)),"|lt:").concat(e.limitType)}function kd(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Xh(e)).join(", "),"]")),Kc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Th(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Th(e)).join(",")),"Target(".concat(t,")")}(yd(e)),"; limitType=").concat(e.limitType,")")}function Td(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Oc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of vd(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Uh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,vd(e),t))&&!(e.endAt&&!function(e,t,n){const r=Uh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,vd(e),t))}(e,t)}function _d(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Cd(e){return(t,n)=>{let r=!1;for(const i of vd(e)){const e=Id(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Id(e,t,n){const r=e.field.isKeyField()?Oc.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Sh(r,i):cc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return cc()}}class xd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Zc(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return eh(this.inner)}size(){return this.innerSize}}const Nd=new th(Oc.comparator);function Ad(){return Nd}const Dd=new th(Oc.comparator);function Rd(){let e=Dd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Pd(e){let t=Dd;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Od(){return Ld()}function Md(){return Ld()}function Ld(){return new xd(e=>e.toString(),(e,t)=>e.isEqual(t))}const jd=new th(Oc.comparator),Ud=new ih(Oc.comparator);function Fd(){let e=Ud;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Vd=new ih(Cc);function zd(){return Vd}function Bd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(t)?"-0":t}}function Wd(e){return{integerValue:""+e}}function qd(e,t){return Qc(t)?Wd(t):Bd(e,t)}class Hd{constructor(){this._=void 0}}function Kd(e,t,n){return e instanceof Yd?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&fh(t)&&(t=ph(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Xd?$d(e,t):e instanceof Jd?Zd(e,t):function(e,t){const n=Qd(e,t),r=tf(n)+tf(e.gt);return Ih(n)&&Ih(e.gt)?Wd(r):Bd(e.serializer,r)}(e,t)}function Gd(e,t,n){return e instanceof Xd?$d(e,t):e instanceof Jd?Zd(e,t):n}function Qd(e,t){return e instanceof ef?Ih(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Yd extends Hd{}class Xd extends Hd{constructor(e){super(),this.elements=e}}function $d(e,t){const n=nf(t);for(const r of e.elements)n.some(e=>bh(e,r))||n.push(r);return{arrayValue:{values:n}}}class Jd extends Hd{constructor(e){super(),this.elements=e}}function Zd(e,t){let n=nf(t);for(const r of e.elements)n=n.filter(e=>!bh(e,r));return{arrayValue:{values:n}}}class ef extends Hd{constructor(e,t){super(),this.serializer=e,this.gt=t}}function tf(e){return hh(e.integerValue||e.doubleValue)}function nf(e){return xh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class rf{constructor(e,t){this.version=e,this.transformResults=t}}class sf{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new sf}static exists(e){return new sf(void 0,e)}static updateTime(e){return new sf(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function af(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class of{}function lf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new yf(e.key,sf.none()):new ff(e.key,e.data,sf.none());{const n=e.data,r=Oh.empty();let i=new ih(Pc.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new pf(e.key,r,new ah(i.toArray()),sf.none())}}function uf(e,t,n){e instanceof ff?function(e,t,n){const r=e.value.clone(),i=gf(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof pf?function(e,t,n){if(!af(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=gf(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(mf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function cf(e,t,n,r){return e instanceof ff?function(e,t,n,r){if(!af(e.precondition,t))return n;const i=e.value.clone(),s=vf(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof pf?function(e,t,n,r){if(!af(e.precondition,t))return n;const i=vf(e.fieldTransforms,r,t),s=t.data;return s.setAll(mf(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return af(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function hf(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Qd(r.transform,e||null);null!=i&&(null===n&&(n=Oh.empty()),n.set(r.field,i))}return n||null}function df(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ic(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Xd&&t instanceof Xd||e instanceof Jd&&t instanceof Jd?Ic(e.elements,t.elements,bh):e instanceof ef&&t instanceof ef?bh(e.gt,t.gt):e instanceof Yd&&t instanceof Yd}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ff extends of{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class pf extends of{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function mf(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function gf(e,t,n){const r=new Map;hc(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Gd(a,o,n[i]))}return r}function vf(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Kd(e,s,t))}return r}class yf extends of{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wf extends of{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bf{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&uf(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=cf(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=cf(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Md();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=lf(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Nc.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fd())}isEqual(e){return this.batchId===e.batchId&&Ic(this.mutations,e.mutations,(e,t)=>df(e,t))&&Ic(this.baseMutations,e.baseMutations,(e,t)=>df(e,t))}}class Ef{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){hc(e.mutations.length===n.length);let r=jd;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Ef(e,t,n,r)}}class Sf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class kf{constructor(e,t){this.count=e,this.unchangedNames=t}}var Tf,_f;function Cf(e){switch(e){default:return cc();case fc.CANCELLED:case fc.UNKNOWN:case fc.DEADLINE_EXCEEDED:case fc.RESOURCE_EXHAUSTED:case fc.INTERNAL:case fc.UNAVAILABLE:case fc.UNAUTHENTICATED:return!1;case fc.INVALID_ARGUMENT:case fc.NOT_FOUND:case fc.ALREADY_EXISTS:case fc.PERMISSION_DENIED:case fc.FAILED_PRECONDITION:case fc.ABORTED:case fc.OUT_OF_RANGE:case fc.UNIMPLEMENTED:case fc.DATA_LOSS:return!0}}function If(e){if(void 0===e)return oc("GRPC error has no .code"),fc.UNKNOWN;switch(e){case Tf.OK:return fc.OK;case Tf.CANCELLED:return fc.CANCELLED;case Tf.UNKNOWN:return fc.UNKNOWN;case Tf.DEADLINE_EXCEEDED:return fc.DEADLINE_EXCEEDED;case Tf.RESOURCE_EXHAUSTED:return fc.RESOURCE_EXHAUSTED;case Tf.INTERNAL:return fc.INTERNAL;case Tf.UNAVAILABLE:return fc.UNAVAILABLE;case Tf.UNAUTHENTICATED:return fc.UNAUTHENTICATED;case Tf.INVALID_ARGUMENT:return fc.INVALID_ARGUMENT;case Tf.NOT_FOUND:return fc.NOT_FOUND;case Tf.ALREADY_EXISTS:return fc.ALREADY_EXISTS;case Tf.PERMISSION_DENIED:return fc.PERMISSION_DENIED;case Tf.FAILED_PRECONDITION:return fc.FAILED_PRECONDITION;case Tf.ABORTED:return fc.ABORTED;case Tf.OUT_OF_RANGE:return fc.OUT_OF_RANGE;case Tf.UNIMPLEMENTED:return fc.UNIMPLEMENTED;case Tf.DATA_LOSS:return fc.DATA_LOSS;default:return cc()}}(_f=Tf||(Tf={}))[_f.OK=0]="OK",_f[_f.CANCELLED=1]="CANCELLED",_f[_f.UNKNOWN=2]="UNKNOWN",_f[_f.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_f[_f.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_f[_f.NOT_FOUND=5]="NOT_FOUND",_f[_f.ALREADY_EXISTS=6]="ALREADY_EXISTS",_f[_f.PERMISSION_DENIED=7]="PERMISSION_DENIED",_f[_f.UNAUTHENTICATED=16]="UNAUTHENTICATED",_f[_f.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_f[_f.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_f[_f.ABORTED=10]="ABORTED",_f[_f.OUT_OF_RANGE=11]="OUT_OF_RANGE",_f[_f.UNIMPLEMENTED=12]="UNIMPLEMENTED",_f[_f.INTERNAL=13]="INTERNAL",_f[_f.UNAVAILABLE=14]="UNAVAILABLE",_f[_f.DATA_LOSS=15]="DATA_LOSS";class xf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Nf}static getOrCreateInstance(){return null===Nf&&(Nf=new xf),Nf}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Nf=null;function Af(){return new TextEncoder}const Df=new ec([4294967295,4294967295],0);function Rf(e){const t=Af().encode(e),n=new Zu;return n.update(t),new Uint8Array(n.digest())}function Pf(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ec([n,r],0),new ec([i,s],0)]}class Of{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Mf("Invalid padding: ".concat(t));if(n<0)throw new Mf("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Mf("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Mf("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=ec.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(ec.fromNumber(n)));return 1===r.compare(Df)&&(r=new ec([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Rf(e),[n,r]=Pf(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Of(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.It)return;const t=Rf(e),[n,r]=Pf(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Mf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lf{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,jf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Lf(Nc.min(),r,new th(Cc),Ad(),Fd())}}class jf{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new jf(n,t,Fd(),Fd(),Fd())}}class Uf{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class Ff{constructor(e,t){this.targetId=e,this.Vt=t}}class Vf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lh.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class zf{constructor(){this.St=0,this.Dt=qf(),this.Ct=lh.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Fd(),t=Fd(),n=Fd();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:cc()}}),new jf(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=qf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Bf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ad(),this.zt=Wf(),this.Wt=new th(Cc)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:cc()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((e,n)=>{this.te(n)&&t(n)})}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const s=i.target;if(ud(s))if(0===r){const e=new Oc(s.path);this.Yt(n,e,Lh.newNoDocument(e,Nc.min()))}else hc(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=xf.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,a,o,l;const u={localCacheCount:t,existenceFilterCount:n.count},c=n.unchangedNames;return c&&(u.bloomFilter={applied:0===e,hashCount:null!==(r=null==c?void 0:c.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(s=null===(i=null==c?void 0:c.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==a?a:0,padding:null!==(l=null===(o=null==c?void 0:c.bits)||void 0===o?void 0:o.padding)&&void 0!==l?l:0}),u}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let o,l;try{o=dh(i).toUint8Array()}catch(e){if(e instanceof oh)return lc("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new Of(o,s,a)}catch(e){return lc(e instanceof Mf?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach(n=>{const i=this.Gt.ue(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(s)||(this.Yt(e,n,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((n,r)=>{const i=this.se(r);if(i){if(n.current&&ud(i.target)){const t=new Oc(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Lh.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}});let n=Fd();this.zt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.jt.forEach((t,n)=>n.setReadTime(e));const r=new Lf(e,t,this.Wt,this.jt,n);return this.jt=Ad(),this.zt=Wf(),this.Wt=new th(Cc),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new zf,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new ih(Cc),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||ac("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new zf),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Wf(){return new th(Oc.comparator)}function qf(){return new th(Oc.comparator)}const Hf={asc:"ASCENDING",desc:"DESCENDING"},Kf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gf={and:"AND",or:"OR"};class Qf{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Yf(e,t){return e.useProto3Json||Kc(t)?t:{value:t}}function Xf(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function $f(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Jf(e,t){return Xf(e,t.toTimestamp())}function Zf(e){return hc(!!e),Nc.fromTimestamp(function(e){const t=ch(e);return new xc(t.seconds,t.nanos)}(e))}function ep(e,t){return function(e){return new Dc(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function tp(e){const t=Dc.fromString(e);return hc(Ep(t)),t}function np(e,t){return ep(e.databaseId,t.path)}function rp(e,t){const n=tp(t);if(n.get(1)!==e.databaseId.projectId)throw new pc(fc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new pc(fc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Oc(op(n))}function ip(e,t){return ep(e.databaseId,t)}function sp(e){const t=tp(e);return 4===t.length?Dc.emptyPath():op(t)}function ap(e){return new Dc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function op(e){return hc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function lp(e,t,n){return{name:np(e,t),fields:n.value.mapValue.fields}}function up(e,t){let n;if(t instanceof ff)n={update:lp(e,t.key,t.value)};else if(t instanceof yf)n={delete:np(e,t.key)};else if(t instanceof pf)n={update:lp(e,t.key,t.data),updateMask:bp(t.fieldMask)};else{if(!(t instanceof wf))return cc();n={verify:np(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Yd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Xd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Jd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ef)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw cc()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Jf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:cc()}(e,t.precondition)),n}function cp(e,t){return{documents:[ip(e,t.path)]}}function hp(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ip(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ip(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return wp(qh.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:vp(e.field),direction:pp(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Yf(e,t.limit);var o;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function dp(e){let t=sp(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){hc(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=fp(e);return t instanceof qh&&Kh(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(e=>function(e){return new Vh(yp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Kc(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new jh(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new jh(n,t)}(n.endAt)),hd(t,i,a,s,o,"F",l,u)}function fp(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=yp(e.unaryFilter.field);return Wh.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=yp(e.unaryFilter.field);return Wh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=yp(e.unaryFilter.field);return Wh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=yp(e.unaryFilter.field);return Wh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return cc()}}(e):void 0!==e.fieldFilter?function(e){return Wh.create(yp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return cc()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return qh.create(e.compositeFilter.filters.map(e=>fp(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return cc()}}(e.compositeFilter.op))}(e):cc()}function pp(e){return Hf[e]}function mp(e){return Kf[e]}function gp(e){return Gf[e]}function vp(e){return{fieldPath:e.canonicalString()}}function yp(e){return Pc.fromServerFormat(e.fieldPath)}function wp(e){return e instanceof Wh?function(e){if("=="===e.op){if(Ah(e.value))return{unaryFilter:{field:vp(e.field),op:"IS_NAN"}};if(Nh(e.value))return{unaryFilter:{field:vp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ah(e.value))return{unaryFilter:{field:vp(e.field),op:"IS_NOT_NAN"}};if(Nh(e.value))return{unaryFilter:{field:vp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vp(e.field),op:mp(e.op),value:e.value}}}(e):e instanceof qh?function(e){const t=e.getFilters().map(e=>wp(e));return 1===t.length?t[0]:{compositeFilter:{op:gp(e.op),filters:t}}}(e):cc()}function bp(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ep(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Sp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Nc.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Nc.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:lh.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Sp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Sp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class kp{constructor(e){this.fe=e}}function Tp(e){const t=dp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?bd(t,t.limit,"L"):t}class _p{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(hh(e.integerValue));else if("doubleValue"in e){const n=hh(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Gc(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(dh(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Ph(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):cc()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),Oc.fromName(e).path.forEach(e=>{this.ye(t,60),this.be(e,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}_p.Ve=new _p;class Cp{constructor(){this.rn=new Ip}addToCollectionParentIndex(e,t){return this.rn.add(t),Wc.resolve()}getCollectionParents(e,t){return Wc.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Wc.resolve()}deleteFieldIndex(e,t){return Wc.resolve()}getDocumentsMatchingTarget(e,t){return Wc.resolve(null)}getIndexType(e,t){return Wc.resolve(0)}getFieldIndexes(e,t){return Wc.resolve([])}getNextCollectionGroupToUpdate(e){return Wc.resolve(null)}getMinOffset(e,t){return Wc.resolve(Uc.min())}getMinOffsetFromCollectionGroup(e,t){return Wc.resolve(Uc.min())}updateCollectionGroup(e,t,n){return Wc.resolve()}updateIndexEntries(e,t){return Wc.resolve()}}class Ip{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ih(Dc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ih(Dc.comparator)).toArray()}}new Uint8Array(0);class xp{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new xp(e,xp.DEFAULT_COLLECTION_PERCENTILE,xp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}xp.DEFAULT_COLLECTION_PERCENTILE=10,xp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xp.DEFAULT=new xp(41943040,xp.DEFAULT_COLLECTION_PERCENTILE,xp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xp.DISABLED=new xp(-1,0,0);class Np{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Np(0)}static Mn(){return new Np(-1)}}class Ap{constructor(){this.changes=new xd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Lh.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Wc.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Dp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Rp{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&cf(n.mutation,e,ah.empty(),xc.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Fd()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fd();const r=Od();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Rd();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Od();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Fd()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Ad();const s=Ld(),a=Ld();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof pf)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),cf(a.mutation,t,a.mutation.getFieldMask(),xc.now())):s.set(t.key,ah.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new Dp(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=Ld();let r=new th((e,t)=>e-t),i=Fd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||ah.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Fd()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,u=Md();l.forEach(e=>{if(!i.has(e)){const r=lf(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,u))}return Wc.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return Oc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Wc.resolve(Od());let a=-1,o=i;return s.next(t=>Wc.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Wc.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,Fd())).next(e=>({batchId:a,changes:Pd(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Oc(t)).next(e=>{let t=Rd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Rd();return this.indexManager.getCollectionParents(e,r).next(s=>Wc.forEach(s,s=>{const a=function(e,t){return new cd(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(e=>{r.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Lh.newInvalidDocument(r)))});let n=Rd();return e.forEach((e,i)=>{const s=r.get(e);void 0!==s&&cf(s.mutation,i,ah.empty(),xc.now()),Td(t,i)&&(n=n.insert(e,i))}),n})}}class Pp{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Wc.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Zf(n.createTime)}),Wc.resolve()}getNamedQuery(e,t){return Wc.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Tp(e.bundledQuery),readTime:Zf(e.readTime)}}(t)),Wc.resolve()}}class Op{constructor(){this.overlays=new th(Oc.comparator),this.ls=new Map}getOverlay(e,t){return Wc.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Od();return Wc.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.we(e,t,r)}),Wc.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.ls.delete(n)),Wc.resolve()}getOverlaysForCollection(e,t,n){const r=Od(),i=t.length+1,s=new Oc(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Wc.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new th((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Od(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Od(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Wc.resolve(a)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Sf(t,n));let i=this.ls.get(t);void 0===i&&(i=Fd(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class Mp{constructor(){this.fs=new ih(Lp.ds),this.ws=new ih(Lp._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Lp(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.ys(new Lp(e,t))}ps(e,t){e.forEach(e=>this.removeReference(e,t))}Is(e){const t=new Oc(new Dc([])),n=new Lp(t,e),r=new Lp(t,e+1),i=[];return this.ws.forEachInRange([n,r],e=>{this.ys(e),i.push(e.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Oc(new Dc([])),n=new Lp(t,e),r=new Lp(t,e+1);let i=Fd();return this.ws.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Lp(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Lp{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Oc.comparator(e.key,t.key)||Cc(e.As,t.As)}static _s(e,t){return Cc(e.As,t.As)||Oc.comparator(e.key,t.key)}}class jp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new ih(Lp.ds)}checkEmpty(e){return Wc.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new bf(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Rs=this.Rs.add(new Lp(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Wc.resolve(s)}lookupMutationBatch(e,t){return Wc.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return Wc.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Wc.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Wc.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Lp(t,0),r=new Lp(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],e=>{const t=this.Ps(e.As);i.push(t)}),Wc.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ih(Cc);return t.forEach(e=>{const t=new Lp(e,0),r=new Lp(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],e=>{n=n.add(e.As)})}),Wc.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Oc.isDocumentKey(i)||(i=i.child(""));const s=new Lp(new Oc(i),0);let a=new ih(Cc);return this.Rs.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)},s),Wc.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(e=>{const n=this.Ps(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){hc(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Wc.forEach(t.mutations,r=>{const i=new Lp(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=n})}Cn(e){}containsKey(e,t){const n=new Lp(t,0),r=this.Rs.firstAfterOrEqual(n);return Wc.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Wc.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Up{constructor(e){this.Ds=e,this.docs=new th(Oc.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Wc.resolve(n?n.document.mutableCopy():Lh.newInvalidDocument(t))}getEntries(e,t){let n=Ad();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Lh.newInvalidDocument(e))}),Wc.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Ad();const s=t.path,a=new Oc(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Fc(jc(a),n)<=0||(r.has(a.key)||Td(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Wc.resolve(i)}getAllFromCollectionGroup(e,t,n,r){cc()}Cs(e,t){return Wc.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Fp(this)}getSize(e){return Wc.resolve(this.size)}}class Fp extends Ap{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)}),Wc.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Vp{constructor(e){this.persistence=e,this.xs=new xd(e=>od(e),ld),this.lastRemoteSnapshotVersion=Nc.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Mp,this.targetCount=0,this.Ms=Np.kn()}forEachTarget(e,t){return this.xs.forEach((e,n)=>t(n)),Wc.resolve()}getLastRemoteSnapshotVersion(e){return Wc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Wc.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Wc.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Wc.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Np(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Wc.resolve()}updateTargetData(e,t){return this.Fn(t),Wc.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Wc.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Wc.waitFor(i).next(()=>r)}getTargetCount(e){return Wc.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Wc.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Wc.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Wc.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Wc.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Wc.resolve(n)}containsKey(e,t){return Wc.resolve(this.ks.containsKey(t))}}class zp{constructor(e,t){this.$s={},this.overlays={},this.Os=new Hc(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Vp(this),this.indexManager=new Cp,this.remoteDocumentCache=function(e){return new Up(e)}(e=>this.referenceDelegate.Ls(e)),this.serializer=new kp(t),this.qs=new Pp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Op,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new jp(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){ac("MemoryPersistence","Starting transaction:",e);const r=new Bp(this.Os.next());return this.referenceDelegate.Us(),n(r).next(e=>this.referenceDelegate.Ks(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Gs(e,t){return Wc.or(Object.values(this.$s).map(n=>()=>n.containsKey(e,t)))}}class Bp extends zc{constructor(e){super(),this.currentSequenceNumber=e}}class Wp{constructor(e){this.persistence=e,this.Qs=new Mp,this.js=null}static zs(e){return new Wp(e)}get Ws(){if(this.js)return this.js;throw cc()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Wc.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Wc.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Wc.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(e=>this.Ws.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ws.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wc.forEach(this.Ws,n=>{const r=Oc.fromPath(n);return this.Hs(e,r).next(e=>{e||t.removeEntry(r,Nc.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Wc.or([()=>Wc.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class qp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=Fd(),r=Fd();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new qp(e,t.fromCache,n,r)}}class Hp{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next(i=>i||this.Gi(e,t,r,n)).next(n=>n||this.Qi(e,t))}Ki(e,t){if(fd(t))return Wc.resolve(null);let n=yd(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=bd(t,null,"F"),n=yd(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Fd(...r);return this.Ui.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.ji(t,r);return this.zi(t,s,i,n.readTime)?this.Ki(e,bd(t,null,"F")):this.Wi(e,s,t,n)}))})))}Gi(e,t,n,r){return fd(t)||r.isEqual(Nc.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next(i=>{const s=this.ji(t,i);return this.zi(t,s,n,r)?this.Qi(e,t):(sc()<=ot.DEBUG&&ac("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),kd(t)),this.Wi(e,s,t,Lc(r,-1)))})}ji(e,t){let n=new ih(Cd(e));return t.forEach((t,r)=>{Td(e,r)&&(n=n.add(r))}),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return sc()<=ot.DEBUG&&ac("QueryEngine","Using full collection scan to execute query:",kd(t)),this.Ui.getDocumentsMatchingQuery(e,t,Uc.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class Kp{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new th(Cc),this.Yi=new xd(e=>od(e),ld),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rp(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Gp(e,t,n,r){return new Kp(e,t,n,r)}async function Qp(e,t){const n=dc(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=Fd();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({er:e,removedBatchIds:i,addedBatchIds:s}))})})}function Yp(e){const t=dc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function Xp(e,t,n){let r=Fd(),i=Fd();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Ad();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Nc.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):ac("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{nr:r,sr:i}})}function $p(e,t){const n=dc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Jp(e,t){const n=dc(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Bs.getTargetData(e,t).next(i=>i?(r=i,Wc.resolve(r)):n.Bs.allocateTargetId(e).next(i=>(r=new Sp(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e})}async function Zp(e,t,n){const r=dc(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!qc(e))throw e;ac("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function em(e,t,n){const r=dc(e);let i=Nc.min(),s=Fd();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=dc(e),i=r.Yi.get(n);return void 0!==i?Wc.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,yd(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:Nc.min(),n?s:Fd())).next(e=>(tm(r,_d(t),e),{documents:e,ir:s})))}function tm(e,t,n){let r=e.Xi.get(t)||Nc.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Xi.set(t,r)}class nm{constructor(){this.activeTargetIds=zd()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rm{constructor(){this.Hr=new nm,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new nm,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class im{Yr(e){}shutdown(){}}class sm{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ac("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ac("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let am=null;function om(){return null===am?am=268435456+Math.round(2147483648*Math.random()):am++,"0x"+am.toString(16)}const lm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class um{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const cm="WebChannelConnection";class hm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const s=om(),a=this.To(e,t);ac("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={};return this.Eo(o,r,i),this.Ao(e,a,o,n).then(t=>(ac("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw lc("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t})}vo(e,t,n,r,i,s){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+rc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}To(e,t){const n=lm[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=om();return new Promise((s,a)=>{const o=new Ju;o.setWithCredentials(!0),o.listenOnce(Gu.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Ku.NO_ERROR:const t=o.getResponseJson();ac(cm,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Ku.TIMEOUT:ac(cm,"RPC '".concat(e,"' ").concat(i," timed out")),a(new pc(fc.DEADLINE_EXCEEDED,"Request time out"));break;case Ku.HTTP_ERROR:const n=o.getStatus();if(ac(cm,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(fc).indexOf(t)>=0?t:fc.UNKNOWN}(t.status);a(new pc(e,t.message))}else a(new pc(fc.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new pc(fc.UNAVAILABLE,"Connection failed."));break;default:cc()}}finally{ac(cm,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);ac(cm,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)})}Ro(e,t,n){const r=om(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=qu(),a=Hu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new Xu({})),this.Eo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const u=i.join("");ac(cm,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),o);const c=s.createWebChannel(u,o);let h=!1,d=!1;const f=new um({ro:t=>{d?ac(cm,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(ac(cm,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),h=!0),ac(cm,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},oo:()=>c.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(c,$u.EventType.OPEN,()=>{d||ac(cm,"RPC '".concat(e,"' stream ").concat(r," transport opened."))}),p(c,$u.EventType.CLOSE,()=>{d||(d=!0,ac(cm,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())}),p(c,$u.EventType.ERROR,t=>{d||(d=!0,lc(cm,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new pc(fc.UNAVAILABLE,"The operation could not be completed")))}),p(c,$u.EventType.MESSAGE,t=>{var n;if(!d){const i=t.data[0];hc(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){ac(cm,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Tf[e];if(void 0!==t)return If(t)}(t),i=a.message;void 0===n&&(n=fc.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.wo(new pc(n,i)),c.close()}else ac(cm,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f._o(i)}}),p(a,Qu.STAT_EVENT,t=>{t.stat===Yu.PROXY?ac(cm,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Yu.NOPROXY&&ac(cm,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.fo()},0),f}}function dm(){return"undefined"!=typeof document?document:null}function fm(e){return new Qf(e,!0)}class pm{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&ac("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class mm{constructor(e,t,n,r,i,s,a,o){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new pm(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===fc.RESOURCE_EXHAUSTED?(oc(t.toString()),oc("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===fc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)},t=>{e(()=>{const e=new pc(fc.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)})})}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(e=>{n(()=>this.tu(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return ac("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(ac("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gm extends mm{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:cc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(hc(void 0===t||"string"==typeof t),lh.fromBase64String(t||"")):(hc(void 0===t||t instanceof Uint8Array),lh.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?fc.UNKNOWN:If(e.code);return new pc(t,e.message||"")}(a);n=new Vf(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=rp(e,r.document.name),s=Zf(r.document.updateTime),a=r.document.createTime?Zf(r.document.createTime):Nc.min(),o=new Oh({mapValue:{fields:r.document.fields}}),l=Lh.newFoundDocument(i,s,a,o),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Uf(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=rp(e,r.document),s=r.readTime?Zf(r.readTime):Nc.min(),a=Lh.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Uf([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=rp(e,r.document),s=r.removedTargetIds||[];n=new Uf([],s,i,null)}else{if(!("filter"in t))return cc();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new kf(r,i),a=e.targetId;n=new Ff(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Nc.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Nc.min():t.readTime?Zf(t.readTime):Nc.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=ap(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ud(r)?{documents:cp(e,r)}:{query:hp(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=$f(e,t.resumeToken);const r=Yf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Nc.min())>0){n.readTime=Xf(e,t.snapshotVersion.toTimestamp());const r=Yf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return cc()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=ap(this.serializer),t.removeTarget=e,this.Wo(t)}}class vm extends mm{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(hc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(hc(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?Zf(e.updateTime):Zf(t);return n.isEqual(Nc.min())&&(n=Zf(t)),new rf(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Zf(e.commitTime);return this.listener.cu(n,t)}return hc(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ap(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>up(this.serializer,e))};this.Wo(t)}}class ym extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new pc(fc.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[i,s]=r;return this.connection.Io(e,t,n,i,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===fc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new pc(fc.UNKNOWN,e.toString())})}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.vo(e,t,n,s,a,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===fc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new pc(fc.UNKNOWN,e.toString())})}terminate(){this.lu=!0}}class wm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(oc(t),this.mu=!1):ac("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class bm{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(e=>{n.enqueueAndForget(async()=>{Nm(this)&&(ac("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=dc(e);t.vu.add(4),await Sm(t),t.bu.set("Unknown"),t.vu.delete(4),await Em(t)}(this))})}),this.bu=new wm(n,r)}}async function Em(e){if(Nm(e))for(const t of e.Ru)await t(!0)}async function Sm(e){for(const t of e.Ru)await t(!1)}function km(e,t){const n=dc(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),xm(n)?Im(n):Gm(n).Ko()&&_m(n,t))}function Tm(e,t){const n=dc(e),r=Gm(n);n.Au.delete(t),r.Ko()&&Cm(n,t),0===n.Au.size&&(r.Ko()?r.jo():Nm(n)&&n.bu.set("Unknown"))}function _m(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Nc.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Gm(e).su(t)}function Cm(e,t){e.Vu.qt(t),Gm(e).iu(t)}function Im(e){e.Vu=new Bf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),Gm(e).start(),e.bu.gu()}function xm(e){return Nm(e)&&!Gm(e).Uo()&&e.Au.size>0}function Nm(e){return 0===dc(e).vu.size}function Am(e){e.Vu=void 0}async function Dm(e){e.Au.forEach((t,n)=>{_m(e,t)})}async function Rm(e,t){Am(e),xm(e)?(e.bu.Iu(t),Im(e)):e.bu.set("Unknown")}async function Pm(e,t,n){if(e.bu.set("Online"),t instanceof Vf&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){ac("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Om(e,n)}else if(t instanceof Uf?e.Vu.Ht(t):t instanceof Ff?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Nc.min()))try{const t=await Yp(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(lh.EMPTY_BYTE_STRING,r.snapshotVersion)),Cm(e,t);const i=new Sp(r.target,t,n,r.sequenceNumber);_m(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ac("RemoteStore","Failed to raise snapshot:",t),await Om(e,t)}}async function Om(e,t,n){if(!qc(t))throw t;e.vu.add(1),await Sm(e),e.bu.set("Offline"),n||(n=()=>Yp(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ac("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Em(e)})}function Mm(e,t){return t().catch(n=>Om(e,n,t))}async function Lm(e){const t=dc(e),n=Qm(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;jm(t);)try{const e=await $p(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,Um(t,e)}catch(e){await Om(t,e)}Fm(t)&&Vm(t)}function jm(e){return Nm(e)&&e.Eu.length<10}function Um(e,t){e.Eu.push(t);const n=Qm(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function Fm(e){return Nm(e)&&!Qm(e).Uo()&&e.Eu.length>0}function Vm(e){Qm(e).start()}async function zm(e){Qm(e).hu()}async function Bm(e){const t=Qm(e);for(const n of e.Eu)t.uu(n.mutations)}async function Wm(e,t,n){const r=e.Eu.shift(),i=Ef.from(r,t,n);await Mm(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Lm(e)}async function qm(e,t){t&&Qm(e).ou&&await async function(e,t){if(Cf(n=t.code)&&n!==fc.ABORTED){const n=e.Eu.shift();Qm(e).Qo(),await Mm(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Lm(e)}var n}(e,t),Fm(e)&&Vm(e)}async function Hm(e,t){const n=dc(e);n.asyncQueue.verifyOperationInProgress(),ac("RemoteStore","RemoteStore received new credentials");const r=Nm(n);n.vu.add(3),await Sm(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Em(n)}async function Km(e,t){const n=dc(e);t?(n.vu.delete(2),await Em(n)):t||(n.vu.add(2),await Sm(n),n.bu.set("Unknown"))}function Gm(e){return e.Su||(e.Su=function(e,t,n){const r=dc(e);return r.fu(),new gm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Dm.bind(null,e),ao:Rm.bind(null,e),nu:Pm.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),xm(e)?Im(e):e.bu.set("Unknown")):(await e.Su.stop(),Am(e))})),e.Su}function Qm(e){return e.Du||(e.Du=function(e,t,n){const r=dc(e);return r.fu(),new vm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:zm.bind(null,e),ao:qm.bind(null,e),au:Bm.bind(null,e),cu:Wm.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await Lm(e)):(await e.Du.stop(),e.Eu.length>0&&(ac("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))})),e.Du}class Ym{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new mc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Ym(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new pc(fc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xm(e,t){if(oc("AsyncQueue","".concat(t,": ").concat(e)),qc(e))return new pc(fc.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class $m{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Oc.comparator(t.key,n.key):(e,t)=>Oc.comparator(e.key,t.key),this.keyedMap=Rd(),this.sortedSet=new th(this.comparator)}static emptySet(e){return new $m(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $m))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new $m;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Jm{constructor(){this.Cu=new th(Oc.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):cc():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,n)=>{e.push(n)}),e}}class Zm{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new Zm(e,t,$m.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class eg{constructor(){this.Nu=void 0,this.listeners=[]}}class tg{constructor(){this.queries=new xd(e=>Sd(e),Ed),this.onlineState="Unknown",this.ku=new Set}}async function ng(e,t){const n=dc(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new eg),i)try{s.Nu=await n.onListen(r)}catch(e){const n=Xm(e,"Initialization of query '".concat(kd(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&ag(n)}async function rg(e,t){const n=dc(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function ig(e,t){const n=dc(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&ag(n)}function sg(e,t,n){const r=dc(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function ag(e){e.ku.forEach(e=>{e.next()})}class og{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Zm(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=Zm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class lg{constructor(e){this.key=e}}class ug{constructor(e){this.key=e}}class cg{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Fd(),this.mutatedKeys=Fd(),this.tc=Cd(e),this.ec=new $m(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new Jm,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const u=r.get(e),c=Td(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.rc(u,c)||(n.track({type:2,doc:c}),f=!0,(o&&this.tc(c,o)>0||l&&this.tc(c,l)<0)&&(a=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(o||l)&&(a=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:a,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cc()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc)),this.oc(n);const s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,o=a!==this.Xu;return this.Xu=a,0!==i.length||o?{snapshot:new Zm(this.query,e.ec,r,i,e.mutatedKeys,0===a,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Jm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Fd(),this.ec.forEach(e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))});const t=[];return e.forEach(e=>{this.Zu.has(e)||t.push(new ug(e))}),this.Zu.forEach(n=>{e.has(n)||t.push(new lg(n))}),t}hc(e){this.Yu=e.ir,this.Zu=Fd();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Zm.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class hg{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class dg{constructor(e){this.key=e,this.fc=!1}}class fg{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new xd(e=>Sd(e),Ed),this._c=new Map,this.mc=new Set,this.gc=new th(Oc.comparator),this.yc=new Map,this.Ic=new Mp,this.Tc={},this.Ec=new Map,this.Ac=Np.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function pg(e,t){const n=Rg(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const e=await Jp(n.localStore,yd(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await mg(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&km(n.remoteStore,e)}return i}async function mg(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await em(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.sc(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s);return Cg(e,t.targetId,a.cc),a.snapshot}(e,t,n,r);const s=await em(e.localStore,t,!0),a=new cg(t,s.ir),o=a.sc(s.documents),l=jf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=a.applyChanges(o,e.isPrimaryClient,l);Cg(e,n,u.cc);const c=new hg(t,n,a);return e.wc.set(t,c),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),u.snapshot}async function gg(e,t){const n=dc(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(e=>!Ed(e,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Zp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Tm(n.remoteStore,r.targetId),Tg(n,r.targetId)}).catch(Bc)):(Tg(n,r.targetId),await Zp(n.localStore,r.targetId,!0))}async function vg(e,t){const n=dc(e);try{const e=await function(e,t){const n=dc(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Bs.addMatchingKeys(e,s.addedDocuments,o)));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?u=u.withResumeToken(lh.EMPTY_BYTE_STRING,Nc.min()).withLastLimboFreeSnapshotVersion(Nc.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(o,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,s)&&a.push(n.Bs.updateTargetData(e,u))});let o=Ad(),l=Fd();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Xp(e,s,t.documentUpdates).next(e=>{o=e.nr,l=e.sr})),!r.isEqual(Nc.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next(t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Wc.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ji=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.yc.get(t);r&&(hc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?hc(r.fc):e.removedDocuments.size>0&&(hc(r.fc),r.fc=!1))}),await Ng(n,e,t)}catch(e){await Bc(e)}}function yg(e,t,n){const r=dc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=dc(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)}),r&&ag(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function wg(e,t,n){const r=dc(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let e=new th(Oc.comparator);e=e.insert(s,Lh.newNoDocument(s,Nc.min()));const n=Fd().add(s),i=new Lf(Nc.min(),new Map,new th(Cc),e,n);await vg(r,i),r.gc=r.gc.remove(s),r.yc.delete(t),xg(r)}else await Zp(r.localStore,t,!1).then(()=>Tg(r,t,n)).catch(Bc)}async function bg(e,t){const n=dc(e),r=t.batch.batchId;try{const e=await function(e,t){const n=dc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Wc.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);hc(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Fd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);kg(n,r,null),Sg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ng(n,e)}catch(e){await Bc(e)}}async function Eg(e,t,n){const r=dc(e);try{const e=await function(e,t){const n=dc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(hc(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);kg(r,t,n),Sg(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ng(r,e)}catch(n){await Bc(n)}}function Sg(e,t){(e.Ec.get(t)||[]).forEach(e=>{e.resolve()}),e.Ec.delete(t)}function kg(e,t,n){const r=dc(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Tg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(t=>{e.Ic.containsKey(t)||_g(e,t)})}function _g(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(Tm(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),xg(e))}function Cg(e,t,n){for(const r of n)r instanceof lg?(e.Ic.addReference(r.key,t),Ig(e,r)):r instanceof ug?(ac("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||_g(e,r.key)):cc()}function Ig(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(ac("SyncEngine","New document in limbo: "+n),e.mc.add(r),xg(e))}function xg(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new Oc(Dc.fromString(t)),r=e.Ac.next();e.yc.set(r,new dg(n)),e.gc=e.gc.insert(n,r),km(e.remoteStore,new Sp(yd(dd(n.path)),r,"TargetPurposeLimboResolution",Hc.ct))}}async function Ng(e,t,n){const r=dc(e),i=[],s=[],a=[];r.wc.isEmpty()||(r.wc.forEach((e,o)=>{a.push(r.Rc(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=qp.Li(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.dc.nu(i),await async function(e,t){const n=dc(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Wc.forEach(t,t=>Wc.forEach(t.Fi,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Wc.forEach(t.Bi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!qc(e))throw e;ac("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,s))}async function Ag(e,t){const n=dc(e);if(!n.currentUser.isEqual(t)){ac("SyncEngine","User change. New user:",t.toKey());const e=await Qp(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach(e=>{e.forEach(e=>{e.reject(new pc(fc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Ng(n,e.er)}}function Dg(e,t){const n=dc(e),r=n.yc.get(t);if(r&&r.fc)return Fd().add(r.key);{let e=Fd();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function Rg(e){const t=dc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wg.bind(null,t),t.dc.nu=ig.bind(null,t.eventManager),t.dc.Pc=sg.bind(null,t.eventManager),t}function Pg(e){const t=dc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Eg.bind(null,t),t}class Og{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=fm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Gp(this.persistence,new Hp,e.initialUser,this.serializer)}createPersistence(e){return new zp(Wp.zs,this.serializer)}createSharedClientState(e){return new rm}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Mg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>yg(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ag.bind(null,this.syncEngine),await Km(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new tg}createDatastore(e){const t=fm(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new hm(r));var r;return function(e,t,n,r){return new ym(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>yg(this.syncEngine,e,0),s=sm.D()?new sm:new im,new bm(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new fg(e,t,n,r,i,s);return a&&(o.vc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=dc(e);ac("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Sm(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class Lg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):oc("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class jg{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=nc.UNAUTHENTICATED,this.clientId=_c.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{ac("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(ac("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new pc(fc.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(xw){const n=Xm(xw,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Ug(e,t){e.asyncQueue.verifyOperationInProgress(),ac("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Qp(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Fg(e,t){e.asyncQueue.verifyOperationInProgress();const n=await zg(e);ac("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>Hm(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Hm(t.remoteStore,n)),e._onlineComponents=t}function Vg(e){return"FirebaseError"===e.name?e.code===fc.FAILED_PRECONDITION||e.code===fc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function zg(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ac("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ug(e,e._uninitializedComponentsProvider._offline)}catch(xw){const n=xw;if(!Vg(n))throw n;lc("Error using user provided cache. Falling back to memory cache: "+n),await Ug(e,new Og)}}else ac("FirestoreClient","Using default OfflineComponentProvider"),await Ug(e,new Og);return e._offlineComponents}async function Bg(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ac("FirestoreClient","Using user provided OnlineComponentProvider"),await Fg(e,e._uninitializedComponentsProvider._online)):(ac("FirestoreClient","Using default OnlineComponentProvider"),await Fg(e,new Mg))),e._onlineComponents}function Wg(e){return Bg(e).then(e=>e.syncEngine)}async function qg(e){const t=await Bg(e),n=t.eventManager;return n.onListen=pg.bind(null,t.syncEngine),n.onUnlisten=gg.bind(null,t.syncEngine),n}function Hg(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Kg=new Map;function Gg(e,t,n){if(!n)throw new pc(fc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Qg(e){if(!Oc.isDocumentKey(e))throw new pc(fc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Yg(e){if(Oc.isDocumentKey(e))throw new pc(fc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Xg(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":cc()}function $g(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new pc(fc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xg(e);throw new pc(fc.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Jg{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new pc(fc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new pc(fc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new pc(fc.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hg(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new pc(fc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new pc(fc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new pc(fc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Zg{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new pc(fc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new pc(fc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jg(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new vc;switch(e.type){case"firstParty":return new Ec(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new pc(fc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Kg.get(e);t&&(ac("ComponentProvider","Removing Datastore"),Kg.delete(e),t.terminate())}(this),Promise.resolve()}}function ev(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=$g(e,Zg))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&lc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=nc.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Me(JSON.stringify({alg:"none",type:"JWT"})),Me(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new pc(fc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new nc(s)}e._authCredentials=new yc(new gc(t,n))}}class tv{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rv(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tv(this.firestore,e,this._key)}}class nv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new nv(this.firestore,e,this._query)}}class rv extends nv{constructor(e,t,n){super(e,t,dd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tv(this.firestore,null,new Oc(e))}withConverter(e){return new rv(this.firestore,e,this._path)}}function iv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tt(e),Gg("collection","path",t),e instanceof Zg){const n=Dc.fromString(t,...r);return Yg(n),new rv(e,null,n)}{if(!(e instanceof tv||e instanceof rv))throw new pc(fc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Dc.fromString(t,...r));return Yg(n),new rv(e.firestore,null,n)}}function sv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tt(e),1===arguments.length&&(t=_c.A()),Gg("doc","path",t),e instanceof Zg){const n=Dc.fromString(t,...r);return Qg(n),new tv(e,null,new Oc(n))}{if(!(e instanceof tv||e instanceof rv))throw new pc(fc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Dc.fromString(t,...r));return Qg(n),new tv(e.firestore,e instanceof rv?e.converter:null,new Oc(n))}}class av{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new pm(this,"async_queue_retry"),this.Xc=()=>{const e=dm();e&&ac("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=dm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=dm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new mc;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!qc(e))throw e;ac("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw oc("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Hc=!1,e))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=Ym.createAndSchedule(this,e,t,n,e=>this.na(e));return this.zc.push(r),r}Zc(){this.Wc&&cc()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function ov(e){return function(e){if("object"!=typeof e||null===e)return!1;const t=e;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)}class lv extends Zg{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new av,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||cv(this),this._firestoreClient.terminate()}}function uv(e){return e._firestoreClient||cv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function cv(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new gh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Hg(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new jg(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class hv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hv(lh.fromBase64String(e))}catch(e){throw new pc(fc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new hv(lh.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dv{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new pc(fc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pc(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fv{constructor(e){this._methodName=e}}class pv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pc(fc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pc(fc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Cc(this._lat,e._lat)||Cc(this._long,e._long)}}const mv=/^__.*__$/;class gv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new pf(e,this.data,this.fieldMask,t,this.fieldTransforms):new ff(e,this.data,t,this.fieldTransforms)}}class vv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new pf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cc()}}class wv{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new wv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Ov(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(yv(this.ca)&&mv.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class bv{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||fm(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new wv({ca:e,methodName:t,ga:n,path:Pc.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ev(e){const t=e._freezeSettings(),n=fm(e._databaseId);return new bv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Sv(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ya(s.merge||s.mergeFields?2:0,t,n,i);Av("Data must be an object, but it was:",a,r);const o=xv(r,a);let l,u;if(s.merge)l=new ah(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Dv(t,r,n);if(!a.contains(i))throw new pc(fc.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Mv(e,i)||e.push(i)}l=new ah(e),u=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,u=a.fieldTransforms;return new gv(new Oh(o),l,u)}class kv extends fv{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kv}}function Tv(e,t,n,r){const i=e.ya(1,t,n);Av("Data must be an object, but it was:",i,r);const s=[],a=Oh.empty();Zc(r,(e,r)=>{const o=Pv(t,e,n);r=tt(r);const l=i.da(o);if(r instanceof kv)s.push(o);else{const e=Iv(r,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new ah(s);return new vv(a,o,i.fieldTransforms)}function _v(e,t,n,r,i,s){const a=e.ya(1,t,n),o=[Dv(t,r,n)],l=[i];if(s.length%2!=0)throw new pc(fc.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)o.push(Dv(t,s[d])),l.push(s[d+1]);const u=[],c=Oh.empty();for(let d=o.length-1;d>=0;--d)if(!Mv(u,o[d])){const e=o[d];let t=l[d];t=tt(t);const n=a.da(e);if(t instanceof kv)u.push(e);else{const r=Iv(t,n);null!=r&&(u.push(e),c.set(e,r))}}const h=new ah(u);return new vv(c,h,a.fieldTransforms)}function Cv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Iv(n,e.ya(r?4:3,t))}function Iv(e,t){if(Nv(e=tt(e)))return Av("Unsupported field value:",t,e),xv(e,t);if(e instanceof fv)return function(e,t){if(!yv(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Iv(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=tt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return qd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=xc.fromDate(e);return{timestampValue:Xf(t.serializer,n)}}if(e instanceof xc){const n=new xc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Xf(t.serializer,n)}}if(e instanceof pv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof hv)return{bytesValue:$f(t.serializer,e._byteString)};if(e instanceof tv){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:ep(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(Xg(e)))}(e,t)}function xv(e,t){const n={};return eh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zc(e,(e,r)=>{const i=Iv(r,t.ha(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Nv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof xc||e instanceof pv||e instanceof hv||e instanceof tv||e instanceof fv)}function Av(e,t,n){if(!Nv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Xg(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Dv(e,t,n){if((t=tt(t))instanceof dv)return t._internalPath;if("string"==typeof t)return Pv(e,t);throw Ov("Field path arguments must be of type string or ",e,!1,void 0,n)}const Rv=new RegExp("[~\\*/\\[\\]]");function Pv(e,t,n){if(t.search(Rv)>=0)throw Ov("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new dv(...t.split("."))._internalPath}catch(r){throw Ov("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Ov(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new pc(fc.INVALID_ARGUMENT,o+e+l)}function Mv(e,t){return e.some(e=>e.isEqual(t))}class Lv{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new tv(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Uv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class jv extends Lv{data(){return super.data()}}function Uv(e,t){return"string"==typeof t?Pv(e,t):t instanceof dv?t._internalPath:t._delegate._internalPath}function Fv(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new pc(fc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vv{}class zv extends Vv{}function Bv(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Vv&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Hv).length,n=e.filter(e=>e instanceof Wv).length;if(t>1||t>0&&n>0)throw new pc(fc.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Wv extends zv{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Wv(e,t,n)}_apply(e){const t=this._parse(e);return Qv(e._query,t),new nv(e.firestore,e.converter,wd(e._query,t))}_parse(e){const t=Ev(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new pc(fc.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Gv(a,s);const t=[];for(const n of a)t.push(Kv(r,e,n));o={arrayValue:{values:t}}}else o=Kv(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Gv(a,s),o=Cv(n,"where",a,"in"===s||"not-in"===s);return Wh.create(i,s,o)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function qv(e,t,n){const r=t,i=Uv("where",e);return Wv._create(i,r,n)}class Hv extends Vv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hv(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:qh.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Qv(n,i),n=wd(n,i)}(e._query,t),new nv(e.firestore,e.converter,wd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Kv(e,t,n){if("string"==typeof(n=tt(n))){if(""===n)throw new pc(fc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gd(t)&&-1!==n.indexOf("/"))throw new pc(fc.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Dc.fromString(n));if(!Oc.isDocumentKey(r))throw new pc(fc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ch(e,new Oc(r))}if(n instanceof tv)return Ch(e,n._key);throw new pc(fc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Xg(n),"."))}function Gv(e,t){if(!Array.isArray(e)||0===e.length)throw new pc(fc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Qv(e,t){if(t.isInequality()){const n=md(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new pc(fc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const i=pd(e);null!==i&&Yv(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new pc(fc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new pc(fc.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function Yv(e,t,n){if(!n.isEqual(t))throw new pc(fc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class Xv{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(wh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(dh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw cc()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Zc(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new pv(hh(e.latitude),hh(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ph(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(mh(e));default:return null}}convertTimestamp(e){const t=ch(e);return new xc(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Dc.fromString(e);hc(Ep(n));const r=new vh(n.get(1),n.get(3)),i=new Oc(n.popFirst(5));return r.isEqual(t)||oc("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function $v(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Jv{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zv extends Lv{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new ey(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Uv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class ey extends Zv{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class ty{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Jv(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new ey(this._firestore,this._userDataWriter,n.key,n,new Jv(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new pc(fc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new ey(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Jv(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new ey(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Jv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:ny(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ny(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cc()}}class ry extends Xv{constructor(e){super(),this.firestore=e}convertBytes(e){return new hv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tv(this.firestore,null,t)}}function iy(e,t,n){e=$g(e,tv);const r=$g(e.firestore,lv),i=Ev(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=tt(t))||t instanceof dv?_v(i,"updateDoc",e._key,t,n,o):Tv(i,"updateDoc",e._key,t),ly(r,[s.toMutation(e._key,sf.exists(!0))])}function sy(e){return ly($g(e.firestore,lv),[new yf(e._key,sf.none())])}function ay(e,t){const n=$g(e.firestore,lv),r=sv(e),i=$v(e.converter,t);return ly(n,[Sv(Ev(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,sf.exists(!1))]).then(()=>r)}function oy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=tt(e);let o={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||ov(n[l])||(o=n[l],l++);const u={includeMetadataChanges:o.includeMetadataChanges};if(ov(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let c,h,d;if(e instanceof tv)h=$g(e.firestore,lv),d=dd(e._key.path),c={next:t=>{n[l]&&n[l](uy(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=$g(e,nv);h=$g(t.firestore,lv),d=t._query;const r=new ry(h);c={next:e=>{n[l]&&n[l](new ty(h,r,t,e))},error:n[l+1],complete:n[l+2]},Fv(e._query)}return function(e,t,n,r){const i=new Lg(r),s=new og(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>ng(await qg(e),s)),()=>{i.Dc(),e.asyncQueue.enqueueAndForget(async()=>rg(await qg(e),s))}}(uv(h),d,u,c)}function ly(e,t){return function(e,t){const n=new mc;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Pg(e);try{const e=await function(e,t){const n=dc(e),r=xc.now(),i=t.reduce((e,t)=>e.add(t.key),Fd());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Ad(),l=Fd();return n.Zi.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=hf(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new pf(e.key,t,Mh(t.value.mapValue),sf.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Pd(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new th(Cc)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Ng(r,e.changes),await Lm(r.remoteStore)}catch(e){const t=Xm(e,"Failed to persist write");n.reject(t)}}(await Wg(e),t,n)),n.promise}(uv(e),t)}function uy(e,t,n){const r=n.docs.get(t._key),i=new ry(e);return new Zv(e,i,t._key,r,new Jv(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){rc=e}(yn),pn(new nt("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new lv(new wc(e.getProvider("auth-internal")),new kc(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new pc(fc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vh(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),En(tc,"3.13.0",e),En(tc,"3.13.0","esm2017")}();const cy=wn({apiKey:"AIzaSyBP9LDjMtOiVZpBBQuANuNGAcQzmXp9AoA",authDomain:"arch-9c0d2.firebaseapp.com",projectId:"arch-9c0d2",storageBucket:"arch-9c0d2.firebasestorage.app",messagingSenderId:"702840291197",appId:"1:702840291197:web:71badbe1734c60c2b71614",measurementId:"G-NTPKHHT9ZG"}),hy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();const t=mn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=mn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Qe(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Un(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Is,persistence:[Vi,ki,_i]}),r=ze("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Ds)return;const r=null===t||void 0===t?void 0:t.token;Rs!==r&&(Rs=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){tt(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,r){tt(e).onIdTokenChanged(t,n,r)}(n,t=>e(t))}var i;const s=Fe("auth");return s&&Kr(n,"http://".concat(s)),n}(cy),dy=function(e,t){const n="string"==typeof e?e:t||"(default)",r=mn("object"==typeof e?e:bn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=Fe(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&ev(r,...e)}return r}(cy);var fy=n(579);const py=()=>{const[e,t]=(0,i.useState)(!1);(0,i.useEffect)(()=>{const e=localStorage.getItem("theme"),n=window.matchMedia("(prefers-color-scheme: dark)").matches;("dark"===e||!e&&n)&&(t(!0),document.documentElement.classList.add("dark"))},[]);return(0,fy.jsx)("button",{onClick:()=>{const n=!e;t(n),n?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},className:"btn btn-icon",style:{background:"var(--surface)",border:"1px solid var(--border)",color:"var(--text)",fontSize:"1.2rem"},title:e?"Modo Claro":"Modo Oscuro",children:e?"\u2600\ufe0f":"\ud83c\udf19"})};const my=function(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,a]=(0,i.useState)("");return(0,fy.jsxs)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",position:"relative"},children:[(0,fy.jsx)("div",{style:{position:"absolute",top:"2rem",right:"2rem"},children:(0,fy.jsx)(py,{})}),(0,fy.jsxs)("div",{className:"card",style:{width:"100%",maxWidth:"400px"},children:[(0,fy.jsxs)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[(0,fy.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1rem"},children:(0,fy.jsx)("img",{src:"/Arch/images/a90f4370-8522-4e30-afb6-84c1dbeba61f.png",alt:"Logo",style:{width:"130px",height:"130px",objectFit:"contain"}})}),(0,fy.jsx)("p",{style:{color:"var(--text-light)"},children:"Tu rutina. Tu mente. Tu orden."})]}),(0,fy.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{await function(e,t,n){return wi(tt(e),ii.credential(t,n))}(hy,e,n)}catch(s){a("Error al iniciar sesi\xf3n")}},children:[(0,fy.jsxs)("div",{className:"form-group",children:[(0,fy.jsx)("label",{children:"Email"}),(0,fy.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,fy.jsxs)("div",{className:"form-group",children:[(0,fy.jsx)("label",{children:"Contrase\xf1a"}),(0,fy.jsx)("input",{type:"password",value:n,onChange:e=>r(e.target.value),required:!0})]}),s&&(0,fy.jsx)("p",{style:{color:"red",marginBottom:"1rem"},children:s}),(0,fy.jsx)("button",{type:"submit",className:"btn btn-primary",style:{width:"100%",marginBottom:"1rem"},children:"\u2728 Iniciar Sesi\xf3n"})]}),(0,fy.jsxs)("p",{style:{textAlign:"center"},children:["\xbfNo tienes cuenta? ",(0,fy.jsx)(Ne,{to:"/register",style:{color:"var(--primary)",textDecoration:"none",fontWeight:"500"},children:"Reg\xedstrate aqu\xed"})]}),(0,fy.jsx)("div",{style:{marginTop:"2rem",padding:"1rem",background:"var(--gradient)",borderRadius:"0.5rem",color:"white",textAlign:"center",fontSize:"0.9rem"},children:"\ud83d\ude80 Bienvenido a la experiencia de productividad m\xe1s avanzada"})]})]})};const gy=function(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,a]=(0,i.useState)("");return(0,fy.jsxs)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",position:"relative"},children:[(0,fy.jsx)("div",{style:{position:"absolute",top:"2rem",right:"2rem"},children:(0,fy.jsx)(py,{})}),(0,fy.jsxs)("div",{className:"card",style:{width:"100%",maxWidth:"400px"},children:[(0,fy.jsxs)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[(0,fy.jsx)("div",{className:"header-brand",style:{justifyContent:"center",marginBottom:"1rem"},children:(0,fy.jsx)("img",{src:"/Arch/images/a90f4370-8522-4e30-afb6-84c1dbeba61f.png",alt:"Arch Logo",className:"logo",style:{width:"130px",height:"130px",objectFit:"contain"}})}),(0,fy.jsx)("p",{style:{color:"var(--text-light)"},children:"\xdanete a la revoluci\xf3n de la productividad"})]}),(0,fy.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{await async function(e,t,n){var r;const i=qr(e),s={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let a;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await zr(i,s,"signUpPassword");a=hi(i,e)}else a=hi(i,s).catch(async e=>{if(e.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await zr(i,s,"signUpPassword");return hi(i,e)}return Promise.reject(e)});const o=await a.catch(e=>Promise.reject(e)),l=await di._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(l.user),l}(hy,e,n)}catch(s){a("Error al crear la cuenta")}},children:[(0,fy.jsxs)("div",{className:"form-group",children:[(0,fy.jsx)("label",{children:"Email"}),(0,fy.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,fy.jsxs)("div",{className:"form-group",children:[(0,fy.jsx)("label",{children:"Contrase\xf1a"}),(0,fy.jsx)("input",{type:"password",value:n,onChange:e=>r(e.target.value),required:!0})]}),s&&(0,fy.jsx)("p",{style:{color:"red",marginBottom:"1rem"},children:s}),(0,fy.jsx)("button",{type:"submit",className:"btn btn-primary",style:{width:"100%",marginBottom:"1rem"},children:"\ud83d\ude80 Crear Cuenta"})]}),(0,fy.jsxs)("p",{style:{textAlign:"center"},children:["\xbfYa tienes cuenta? ",(0,fy.jsx)(Ne,{to:"/login",style:{color:"var(--primary)",textDecoration:"none",fontWeight:"500"},children:"Inicia sesi\xf3n aqu\xed"})]}),(0,fy.jsx)("div",{style:{marginTop:"2rem",padding:"1rem",background:"var(--gradient-alt)",borderRadius:"0.5rem",color:"white",textAlign:"center",fontSize:"0.9rem"},children:"\u2728 Acceso gratuito a todas las funcionalidades premium"})]})]})};function vy(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function yy(e){vy(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===ft(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function wy(e){vy(1,arguments);var t=yy(e);return t.setHours(0,0,0,0),t}function by(e,t){vy(2,arguments);var n=wy(e),r=wy(t);return n.getTime()===r.getTime()}function Ey(e){if(vy(1,arguments),!function(e){return vy(1,arguments),e instanceof Date||"object"===ft(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=yy(e);return!isNaN(Number(t))}function Sy(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ky(e,t){return vy(2,arguments),function(e,t){vy(2,arguments);var n=yy(e).getTime(),r=Sy(t);return new Date(n+r)}(e,-Sy(t))}function Ty(e){vy(1,arguments);var t=yy(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function _y(e){vy(1,arguments);var t=yy(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Ty(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var a=Ty(s);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function Cy(e){vy(1,arguments);var t=yy(e),n=Ty(t).getTime()-function(e){vy(1,arguments);var t=_y(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),Ty(n)}(t).getTime();return Math.round(n/6048e5)+1}var Iy={};function xy(){return Iy}function Ny(e,t){var n,r,i,s,a,o,l,u;vy(1,arguments);var c=xy(),h=Sy(null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(o=a.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==i?i:c.weekStartsOn)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=yy(e),f=d.getUTCDay(),p=(f<h?7:0)+f-h;return d.setUTCDate(d.getUTCDate()-p),d.setUTCHours(0,0,0,0),d}function Ay(e,t){var n,r,i,s,a,o,l,u;vy(1,arguments);var c=yy(e),h=c.getUTCFullYear(),d=xy(),f=Sy(null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(o=a.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==i?i:d.firstWeekContainsDate)&&void 0!==r?r:null===(l=d.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(h+1,0,f),p.setUTCHours(0,0,0,0);var m=Ny(p,t),g=new Date(0);g.setUTCFullYear(h,0,f),g.setUTCHours(0,0,0,0);var v=Ny(g,t);return c.getTime()>=m.getTime()?h+1:c.getTime()>=v.getTime()?h:h-1}function Dy(e,t){vy(1,arguments);var n=yy(e),r=Ny(n,t).getTime()-function(e,t){var n,r,i,s,a,o,l,u;vy(1,arguments);var c=xy(),h=Sy(null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(o=a.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==i?i:c.firstWeekContainsDate)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1),d=Ay(e,t),f=new Date(0);return f.setUTCFullYear(d,0,h),f.setUTCHours(0,0,0,0),Ny(f,t)}(n,t).getTime();return Math.round(r/6048e5)+1}function Ry(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}const Py={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return Ry("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Ry(n+1,2)},d:function(e,t){return Ry(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return Ry(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Ry(e.getUTCHours(),t.length)},m:function(e,t){return Ry(e.getUTCMinutes(),t.length)},s:function(e,t){return Ry(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return Ry(Math.floor(r*Math.pow(10,n-3)),t.length)}};var Oy="midnight",My="noon",Ly="morning",jy="afternoon",Uy="evening",Fy="night",Vy={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Py.y(e,t)},Y:function(e,t,n,r){var i=Ay(e,r),s=i>0?i:1-i;return"YY"===t?Ry(s%100,2):"Yo"===t?n.ordinalNumber(s,{unit:"year"}):Ry(s,t.length)},R:function(e,t){return Ry(_y(e),t.length)},u:function(e,t){return Ry(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ry(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ry(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return Py.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Ry(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=Dy(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):Ry(i,t.length)},I:function(e,t,n){var r=Cy(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Ry(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Py.d(e,t)},D:function(e,t,n){var r=function(e){vy(1,arguments);var t=yy(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Ry(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Ry(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Ry(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return Ry(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?My:0===i?Oy:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?Uy:i>=12?jy:i>=4?Ly:Fy,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Py.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Py.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Ry(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Ry(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Py.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Py.s(e,t)},S:function(e,t){return Py.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return By(i);case"XXXX":case"XX":return Wy(i);default:return Wy(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return By(i);case"xxxx":case"xx":return Wy(i);default:return Wy(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+zy(i,":");default:return"GMT"+Wy(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+zy(i,":");default:return"GMT"+Wy(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return Ry(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return Ry((r._originalDate||e).getTime(),t.length)}};function zy(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),s=r%60;if(0===s)return n+String(i);var a=t||"";return n+String(i)+a+Ry(s,2)}function By(e,t){return e%60===0?(e>0?"-":"+")+Ry(Math.abs(e)/60,2):Wy(e,t)}function Wy(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+Ry(Math.floor(i/60),2)+n+Ry(i%60,2)}const qy=Vy;var Hy=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Ky=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Gy={p:Ky,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return Hy(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",Hy(i,t)).replace("{{time}}",Ky(s,t))}};const Qy=Gy;var Yy=["D","DD"],Xy=["YY","YYYY"];function $y(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Jy={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const Zy=function(e,t,n){var r,i=Jy[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ew(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var tw={date:ew({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:ew({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:ew({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var nw={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function rw(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=null!==n&&void 0!==n&&n.width?String(n.width):i;r=e.formattingValues[s]||e.formattingValues[i]}else{var a=e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[o]||e.values[a]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function iw(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;var a,o=s[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,function(e){return e.test(o)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,function(e){return e.test(o)});return a=e.valueCallback?e.valueCallback(u):u,{value:a=n.valueCallback?n.valueCallback(a):a,rest:t.slice(o.length)}}}function sw(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],s=t.match(e.parsePattern);if(!s)return null;var a=e.valueCallback?e.valueCallback(s[0]):s[0];return{value:a=n.valueCallback?n.valueCallback(a):a,rest:t.slice(i.length)}}}const aw={code:"en-US",formatDistance:Zy,formatLong:tw,formatRelative:function(e,t,n,r){return nw[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:rw({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:rw({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:rw({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:rw({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:rw({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:sw({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:iw({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:iw({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:iw({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:iw({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:iw({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var ow=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lw=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uw=/^'([^]*?)'?$/,cw=/''/g,hw=/[a-zA-Z]/;function dw(e,t,n){var r,i,s,a,o,l,u,c,h,d,f,p,m,g,v,y,w,b;vy(2,arguments);var E=String(t),S=xy(),k=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:S.locale)&&void 0!==r?r:aw,T=Sy(null!==(s=null!==(a=null!==(o=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(u=n.locale)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==o?o:S.firstWeekContainsDate)&&void 0!==a?a:null===(h=S.locale)||void 0===h||null===(d=h.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==s?s:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=Sy(null!==(f=null!==(p=null!==(m=null!==(g=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==g?g:null===n||void 0===n||null===(v=n.locale)||void 0===v||null===(y=v.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==m?m:S.weekStartsOn)&&void 0!==p?p:null===(w=S.locale)||void 0===w||null===(b=w.options)||void 0===b?void 0:b.weekStartsOn)&&void 0!==f?f:0);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!k.localize)throw new RangeError("locale must contain localize property");if(!k.formatLong)throw new RangeError("locale must contain formatLong property");var C=yy(e);if(!Ey(C))throw new RangeError("Invalid time value");var I=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}(C),x=ky(C,I),N={firstWeekContainsDate:T,weekStartsOn:_,locale:k,_originalDate:C};return E.match(lw).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,Qy[t])(e,k.formatLong):e}).join("").match(ow).map(function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return function(e){var t=e.match(uw);if(!t)return e;return t[1].replace(cw,"'")}(r);var s,a=qy[i];if(a)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||(s=r,-1===Xy.indexOf(s))||$y(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return-1!==Yy.indexOf(e)}(r)||$y(r,t,String(e)),a(x,r,k.localize,N);if(i.match(hw))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r}).join("")}function fw(e){return vy(1,arguments),by(e,Date.now())}var pw={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 d\xeda",other:"{{count}} d\xedas"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 a\xf1o",other:"alrededor de {{count}} a\xf1os"},xYears:{one:"1 a\xf1o",other:"{{count}} a\xf1os"},overXYears:{one:"m\xe1s de 1 a\xf1o",other:"m\xe1s de {{count}} a\xf1os"},almostXYears:{one:"casi 1 a\xf1o",other:"casi {{count}} a\xf1os"}};const mw=function(e,t,n){var r,i=pw[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r};var gw={date:ew({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:ew({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:ew({formats:{full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var vw={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'ma\xf1ana a la' p",nextWeek:"eeee 'a la' p",other:"P"},yw={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'ma\xf1ana a las' p",nextWeek:"eeee 'a las' p",other:"P"};const ww={code:"es",formatDistance:mw,formatLong:gw,formatRelative:function(e,t,n,r){return 1!==t.getUTCHours()?yw[e]:vw[e]},localize:{ordinalNumber:function(e,t){return Number(e)+"\xba"},era:rw({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despu\xe9s de cristo"]},defaultWidth:"wide"}),quarter:rw({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xba trimestre","2\xba trimestre","3\xba trimestre","4\xba trimestre"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:rw({values:{narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},defaultWidth:"wide"}),day:rw({values:{narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s\xe1"],abbreviated:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],wide:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"]},defaultWidth:"wide"}),dayPeriod:rw({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:sw({matchPattern:/^(\d+)(\xba)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:iw({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u\xfa]n|despu[e\xe9]s de cristo|era com[u\xfa]n)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u\xfa]n)/i,/^(despu[e\xe9]s de cristo|era com[u\xfa]n)/i]},defaultParseWidth:"any"}),quarter:iw({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](\xba)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:iw({matchPatterns:{narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},defaultParseWidth:"any"}),day:iw({matchPatterns:{narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[\xe1a])/i,abbreviated:/^(dom|lun|mar|mi[\xe9e]|jue|vie|s[\xe1a]b)/i,wide:/^(domingo|lunes|martes|mi[\xe9e]rcoles|jueves|viernes|s[\xe1a]bado)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:iw({matchPatterns:{narrow:/^(a|p|mn|md|(de la|a las) (ma\xf1ana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (ma\xf1ana|tarde|noche))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/ma\xf1ana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}},bw=e=>{let{title:t,value:n,icon:r,color:i,trend:s}=e;return(0,fy.jsxs)("div",{className:"stat-card",children:[(0,fy.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[(0,fy.jsx)("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:i,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:r}),s&&(0,fy.jsxs)("div",{style:{color:s>0?"var(--success)":"var(--danger)",fontSize:"0.9rem",fontWeight:"600"},children:[s>0?"\u2197":"\u2198"," ",Math.abs(s),"%"]})]}),(0,fy.jsx)("div",{className:"stat-number",children:n}),(0,fy.jsx)("div",{className:"stat-label",children:t})]})};function Ew(e,t){return vy(2,arguments),function(e,t){vy(2,arguments);var n=yy(e),r=Sy(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}(e,-Sy(t))}function Sw(e,t){vy(2,arguments);var n=yy(e),r=yy(t);return n.getTime()>r.getTime()}function kw(e){vy(1,arguments);var t=yy(e);return t.setHours(23,59,59,999),t}const Tw=e=>{let{tasks:t}=e;const[n,r]=(0,i.useState)({weeklyCompletion:0,dailyAverage:0,streak:0,mostProductiveDay:"",weeklyTrend:0}),[s,a]=(0,i.useState)("overview");(0,i.useEffect)(()=>{o()},[t]);const o=async()=>{if(!t.length)return;const e=new Date,n=Ew(e,7),i=Ew(e,14),s=t.filter(e=>e.date&&Sw(e.date,n)),a=t.filter(e=>e.date&&Sw(e.date,i)&&function(e,t){vy(2,arguments);var n=yy(e),r=yy(t);return n.getTime()<r.getTime()}(e.date,n)),o=s.filter(e=>e.completed).length,l=s.length>0?Math.round(o/s.length*100):0,u=Math.round(s.length/7),c=a.filter(e=>e.completed).length,h=c>0?Math.round((o-c)/c*100):o>0?100:0,d={};s.forEach(e=>{if(e.completed&&e.date){const t=dw(e.date,"EEEE",{locale:ww});d[t]=(d[t]||0)+1}});const f=Object.keys(d).reduce((e,t)=>d[e]>d[t]?e:t,"Ninguno");let p=0,m=new Date;for(;p<30;){if(!(t.filter(e=>e.date&&e.completed&&e.date>=wy(m)&&e.date<=kw(m)).length>0))break;p++,m=Ew(m,1)}r({weeklyCompletion:l,dailyAverage:u,streak:p,mostProductiveDay:f,weeklyTrend:h})};return(0,fy.jsxs)("div",{className:"card",children:[(0,fy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,fy.jsx)("h3",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:"\ud83d\udcca An\xe1lisis de Productividad"}),(0,fy.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,fy.jsx)("button",{className:"btn ".concat("overview"===s?"btn-primary":"btn-secondary"),onClick:()=>a("overview"),style:{fontSize:"0.8rem",padding:"0.25rem 0.5rem"},children:"Resumen"}),(0,fy.jsx)("button",{className:"btn ".concat("chart"===s?"btn-primary":"btn-secondary"),onClick:()=>a("chart"),style:{fontSize:"0.8rem",padding:"0.25rem 0.5rem"},children:"Gr\xe1fico"})]})]}),(0,fy.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem"},children:[(0,fy.jsxs)("div",{style:{textAlign:"center"},children:[(0,fy.jsxs)("div",{style:{fontSize:"2rem",fontWeight:"700",color:"var(--primary)"},children:[n.weeklyCompletion,"%"]}),(0,fy.jsx)("div",{style:{color:"var(--text-light)",fontSize:"0.9rem"},children:"Completitud Semanal"}),(0,fy.jsx)("div",{className:"progress-bar",children:(0,fy.jsx)("div",{className:"progress-fill",style:{width:"".concat(n.weeklyCompletion,"%")}})})]}),(0,fy.jsxs)("div",{style:{textAlign:"center"},children:[(0,fy.jsx)("div",{style:{fontSize:"2rem",fontWeight:"700",color:"var(--secondary)"},children:n.dailyAverage}),(0,fy.jsx)("div",{style:{color:"var(--text-light)",fontSize:"0.9rem"},children:"Promedio Diario"})]}),(0,fy.jsxs)("div",{style:{textAlign:"center"},children:[(0,fy.jsx)("div",{style:{fontSize:"2rem",fontWeight:"700",color:"var(--success)"},children:n.streak}),(0,fy.jsx)("div",{style:{color:"var(--text-light)",fontSize:"0.9rem"},children:"D\xedas Consecutivos"})]}),(0,fy.jsxs)("div",{style:{textAlign:"center"},children:[(0,fy.jsx)("div",{style:{fontSize:"1.2rem",fontWeight:"600",color:"var(--info)"},children:n.mostProductiveDay}),(0,fy.jsx)("div",{style:{color:"var(--text-light)",fontSize:"0.9rem"},children:"D\xeda M\xe1s Productivo"})]})]}),"overview"===s&&(0,fy.jsxs)("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"var(--surface-alt)",borderRadius:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,fy.jsx)("span",{style:{fontSize:"1.2rem"},children:n.weeklyTrend>=0?"\ud83d\udcc8":"\ud83d\udcc9"}),(0,fy.jsxs)("span",{style:{color:n.weeklyTrend>=0?"var(--success)":"var(--danger)"},children:[n.weeklyTrend>=0?"+":"",n.weeklyTrend,"% vs semana pasada"]})]}),"chart"===s&&(0,fy.jsxs)("div",{children:[(0,fy.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,fy.jsx)("h4",{style:{marginBottom:"0.5rem"},children:"Actividad Semanal"}),(0,fy.jsx)("div",{style:{display:"flex",gap:"0.5rem",height:"100px",alignItems:"end"},children:["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"].map((e,n)=>{const r=new Date;r.setDate(r.getDate()-r.getDay()+n);const i=t.filter(e=>e.date&&e.date.toDateString()===r.toDateString());return{day:e,completed:i.filter(e=>e.completed).length,total:i.length}}).map((e,t)=>(0,fy.jsxs)("div",{style:{flex:1,textAlign:"center"},children:[(0,fy.jsx)("div",{style:{height:"".concat(Math.max(10*e.completed,5),"px"),background:"var(--primary)",borderRadius:"2px",marginBottom:"0.25rem"}}),(0,fy.jsx)("div",{style:{fontSize:"0.7rem",color:"var(--text-light)"},children:e.day}),(0,fy.jsxs)("div",{style:{fontSize:"0.6rem",color:"var(--text-muted)"},children:[e.completed,"/",e.total]})]},t))})]}),(0,fy.jsxs)("div",{children:[(0,fy.jsx)("h4",{style:{marginBottom:"0.5rem"},children:"Tareas por Prioridad"}),(0,fy.jsx)("div",{style:{display:"flex",gap:"1rem"},children:Object.entries((()=>{const e={high:0,medium:0,low:0};return t.forEach(t=>{t.completed&&e[t.priority||"medium"]++}),e})()).map(e=>{let[t,n]=e;return(0,fy.jsxs)("div",{style:{textAlign:"center"},children:[(0,fy.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:"600",color:"high"===t?"var(--danger)":"medium"===t?"var(--secondary)":"var(--success)"},children:n}),(0,fy.jsx)("div",{style:{fontSize:"0.8rem",color:"var(--text-light)"},children:"high"===t?"\ud83d\udd34 Alta":"medium"===t?"\ud83d\udfe1 Media":"\ud83d\udfe2 Baja"})]},t)})})]})]})]})},_w=e=>{let{tasks:t}=e;const[n,r]=(0,i.useState)([]),[s,a]=(0,i.useState)({title:"",target:"",deadline:"",type:"daily"}),[o,l]=(0,i.useState)(!1),[u,c]=(0,i.useState)(null),[h,d]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(!hy.currentUser)return;const e=oy(Bv(iv(dy,"goals"),qv("userId","==",hy.currentUser.uid)),e=>{const t=e.docs.map(e=>{var t;const n=e.data();return vt(vt({id:e.id},n),{},{deadline:null!==(t=n.deadline)&&void 0!==t&&t.toDate?n.deadline.toDate():n.deadline})});r(t)},e=>{console.error("Error fetching goals:",e)});return()=>e()},[]);const f=()=>{const e=[],n=t.filter(e=>e.completed).length;n>=1&&e.push({name:"Primera Tarea",icon:"\ud83c\udfaf",desc:"Completaste tu primera tarea"}),n>=10&&e.push({name:"Productivo",icon:"\u26a1",desc:"10 tareas completadas"}),n>=50&&e.push({name:"Imparable",icon:"\ud83d\ude80",desc:"50 tareas completadas"}),n>=100&&e.push({name:"Maestro",icon:"\ud83d\udc51",desc:"100 tareas completadas"});const r=p();return r>=3&&e.push({name:"Constante",icon:"\ud83d\udd25",desc:"3 d\xedas consecutivos"}),r>=7&&e.push({name:"Dedicado",icon:"\ud83d\udcaa",desc:"7 d\xedas consecutivos"}),r>=30&&e.push({name:"Leyenda",icon:"\ud83c\udfc6",desc:"30 d\xedas consecutivos"}),e},p=()=>{let e=0;const n=new Date;for(let r=0;r<30;r++){const i=new Date(n.getTime()-24*r*60*60*1e3);if(t.filter(e=>e.completed&&e.date&&e.date.toDateString()===i.toDateString()).length>0)e++;else if(r>0)break}return e};return(0,fy.jsxs)("div",{className:"card",children:[(0,fy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,fy.jsx)("h3",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:"\ud83c\udfaf Metas y Logros"}),(0,fy.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,fy.jsx)("button",{className:"btn btn-secondary",onClick:()=>l(!o),children:"+ Nueva Meta"}),(0,fy.jsx)("button",{className:"btn btn-primary",onClick:()=>d(!h),children:"\ud83c\udfc6 Logros"})]})]}),o&&(0,fy.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),s.title&&s.target)try{u?(await iy(sv(dy,"goals",u.id),{title:s.title,target:parseInt(s.target),type:s.type,deadline:s.deadline?new Date(s.deadline):null}),c(null)):await ay(iv(dy,"goals"),{title:s.title,target:parseInt(s.target),type:s.type,progress:0,completed:!1,deadline:s.deadline?new Date(s.deadline):null,userId:hy.currentUser.uid,createdAt:new Date}),a({title:"",target:"",deadline:"",type:"daily"}),l(!1)}catch(t){console.error("Error saving goal:",t)}},style:{marginBottom:"2rem",padding:"1rem",background:"var(--surface-alt)",borderRadius:"0.5rem"},children:[(0,fy.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[(0,fy.jsx)("input",{type:"text",placeholder:"T\xedtulo de la meta",value:s.title,onChange:e=>a(vt(vt({},s),{},{title:e.target.value})),style:{padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid var(--border)"}}),(0,fy.jsx)("input",{type:"number",placeholder:"Objetivo (n\xfamero)",value:s.target,onChange:e=>a(vt(vt({},s),{},{target:e.target.value})),style:{padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid var(--border)"}})]}),(0,fy.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[(0,fy.jsxs)("select",{value:s.type,onChange:e=>a(vt(vt({},s),{},{type:e.target.value})),style:{padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid var(--border)"},children:[(0,fy.jsx)("option",{value:"daily",children:"Diario"}),(0,fy.jsx)("option",{value:"weekly",children:"Semanal"}),(0,fy.jsx)("option",{value:"monthly",children:"Mensual"})]}),(0,fy.jsx)("input",{type:"date",value:s.deadline,onChange:e=>a(vt(vt({},s),{},{deadline:e.target.value})),style:{padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid var(--border)"}})]}),(0,fy.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,fy.jsx)("button",{type:"submit",className:"btn btn-primary",children:u?"Actualizar Meta":"Crear Meta"}),u&&(0,fy.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{c(null),a({title:"",target:"",deadline:"",type:"daily"}),l(!1)},children:"Cancelar"})]})]}),(0,fy.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,fy.jsx)("h4",{style:{marginBottom:"1rem",color:"var(--text-light)"},children:"Metas Activas"}),0===n.length?(0,fy.jsx)("p",{style:{color:"var(--text-light)",textAlign:"center",padding:"2rem"},children:"No tienes metas activas. \xa1Crea tu primera meta!"}):n.map(e=>{const n=(e=>{const n=new Date;let r=0;switch(e.type){case"daily":const e=(new Date).toDateString();r=t.filter(t=>t.completed&&t.date&&t.date.toDateString()===e).length;break;case"weekly":const i=new Date(n.getTime()-6048e5);r=t.filter(e=>e.completed&&e.date&&e.date>=i).length;break;case"monthly":const s=new Date(n.getFullYear(),n.getMonth(),1);r=t.filter(e=>e.completed&&e.date&&e.date>=s).length;break;default:r=t.filter(e=>e.completed).length}return Math.min(r,e.target)})(e),r=Math.round(n/e.target*100);return(0,fy.jsxs)("div",{style:{padding:"1rem",border:"1px solid var(--border)",borderRadius:"0.5rem",marginBottom:"1rem"},children:[(0,fy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[(0,fy.jsx)("h5",{children:e.title}),(0,fy.jsx)("span",{style:{padding:"0.25rem 0.5rem",background:"daily"===e.type?"var(--success-light)":"weekly"===e.type?"var(--secondary-light)":"var(--primary-light)",borderRadius:"0.25rem",fontSize:"0.8rem"},children:"daily"===e.type?"Diario":"weekly"===e.type?"Semanal":"Mensual"})]}),(0,fy.jsxs)("div",{style:{marginBottom:"0.5rem"},children:[(0,fy.jsxs)("span",{children:[n," / ",e.target]}),(0,fy.jsxs)("span",{style:{float:"right",color:"var(--primary)",fontWeight:"600"},children:[r,"%"]})]}),(0,fy.jsx)("div",{className:"progress-bar",children:(0,fy.jsx)("div",{className:"progress-fill",style:{width:"".concat(r,"%")}})}),(0,fy.jsxs)("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[(0,fy.jsx)("button",{className:"btn btn-secondary",onClick:()=>(e=>{a({title:e.title,target:e.target.toString(),type:e.type,deadline:e.deadline?e.deadline.toISOString().split("T")[0]:""}),c(e),l(!0)})(e),style:{fontSize:"0.8rem",padding:"0.25rem 0.5rem"},children:"\u270f\ufe0f Editar"}),(0,fy.jsx)("button",{className:"btn btn-secondary",onClick:()=>(async e=>{try{await sy(sv(dy,"goals",e))}catch(t){console.error("Error deleting goal:",t)}})(e.id),style:{fontSize:"0.8rem",padding:"0.25rem 0.5rem",background:"var(--danger)",color:"white"},children:"\ud83d\uddd1\ufe0f Eliminar"})]})]},e.id)})]}),h&&(0,fy.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,fy.jsxs)("div",{className:"card",style:{maxWidth:"600px",width:"90%",maxHeight:"80vh",overflow:"auto"},children:[(0,fy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,fy.jsx)("h3",{children:"\ud83c\udfc6 Logros Desbloqueados"}),(0,fy.jsx)("button",{className:"btn btn-secondary",onClick:()=>d(!1),children:"\u2715"})]}),(0,fy.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"1rem"},children:[f().map((e,t)=>(0,fy.jsxs)("div",{style:{padding:"1rem",background:"var(--gradient-alt)",color:"white",borderRadius:"0.5rem",textAlign:"center"},children:[(0,fy.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:e.icon}),(0,fy.jsx)("div",{style:{fontWeight:"600",marginBottom:"0.25rem"},children:e.name}),(0,fy.jsx)("div",{style:{fontSize:"0.8rem",opacity:.9},children:e.desc})]},t)),0===f().length&&(0,fy.jsx)("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"2rem",color:"var(--text-light)"},children:"\ud83c\udfaf A\xfan no has desbloqueado logros. \xa1Sigue completando tareas!"})]})]})})]})};const Cw=function(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(""),[s,a]=(0,i.useState)(new Date),[o,l]=(0,i.useState)("medium"),[u,c]=(0,i.useState)(!1),[h,d]=(0,i.useState)("overview"),[f,p]=(0,i.useState)("");(0,i.useEffect)(()=>{if(!hy.currentUser)return;const e=oy(Bv(iv(dy,"tasks"),qv("userId","==",hy.currentUser.uid)),e=>{const n=e.docs.map(e=>{var t;return vt(vt({id:e.id},e.data()),{},{date:null===(t=e.data().date)||void 0===t?void 0:t.toDate()})});t(n)});return()=>e()},[]);const m=async(e,t)=>{try{await iy(sv(dy,"tasks",e),{completed:!t})}catch(n){console.error("Error updating task:",n)}},g=async e=>{try{await sy(sv(dy,"tasks",e))}catch(t){console.error("Error deleting task:",t)}},v=function(e){vy(1,arguments);var t=yy(e);return t.setDate(1),t.setHours(0,0,0,0),t}(s),y=function(e){vy(1,arguments);var t=yy(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}(s),w=function(e,t){var n;vy(1,arguments);var r=e||{},i=yy(r.start),s=yy(r.end).getTime();if(!(i.getTime()<=s))throw new RangeError("Invalid interval");var a=[],o=i;o.setHours(0,0,0,0);var l=Number(null!==(n=null===t||void 0===t?void 0:t.step)&&void 0!==n?n:1);if(l<1||isNaN(l))throw new RangeError("`options.step` must be a number greater than 1");for(;o.getTime()<=s;)a.push(yy(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return a}({start:v,end:y}),b=t=>e.filter(e=>e.date&&by(e.date,t)),E=()=>{let t=e;return f&&(t=t.filter(e=>e.text.toLowerCase().includes(f.toLowerCase()))),t.sort((e,t)=>{const n={high:3,medium:2,low:1};return n[t.priority||"medium"]-n[e.priority||"medium"]})},S=(()=>{const t=e.length,n=e.filter(e=>e.completed).length,r=new Date,i=b(r),s=i.filter(e=>e.completed).length,a=t>0?Math.round(n/t*100):0;return{total:t,completed:n,todayTasks:i.length,todayCompleted:s,completionRate:a}})();return(0,fy.jsxs)("div",{className:"container",style:{padding:"2rem 1rem",maxWidth:"1400px"},children:[(0,fy.jsxs)("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"left",marginBottom:"2rem"},children:[(0,fy.jsx)("div",{style:{display:"flex",justifyContent:"left",alignItems:"center",flex:1},children:(0,fy.jsx)("img",{src:"/Arch/images/a90f4370-8522-4e30-afb6-84c1dbeba61f.png",alt:"Logo",style:{width:"110px",objectFit:"contain"}})}),(0,fy.jsxs)("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[(0,fy.jsx)(py,{}),(0,fy.jsx)("button",{onClick:()=>function(e){return tt(e).signOut()}(hy),className:"btn btn-secondary",children:"\ud83d\udc4b Salir"})]})]}),(0,fy.jsx)("nav",{style:{marginBottom:"2rem"},children:(0,fy.jsx)("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[{key:"overview",label:"\ud83d\udcca Resumen",icon:"\ud83d\udcca"},{key:"tasks",label:"\u2705 Tareas",icon:"\u2705"},{key:"calendar",label:"\ud83d\udcc5 Calendario",icon:"\ud83d\udcc5"},{key:"analytics",label:"\ud83d\udcc8 An\xe1lisis",icon:"\ud83d\udcc8"},{key:"goals",label:"\ud83c\udfaf Metas",icon:"\ud83c\udfaf"}].map(e=>(0,fy.jsx)("button",{onClick:()=>d(e.key),className:"btn ".concat(h===e.key?"btn-primary":"btn-secondary"),style:{fontSize:"0.9rem"},children:e.label},e.key))})}),"overview"===h&&(0,fy.jsxs)("div",{children:[(0,fy.jsxs)("div",{className:"stats-grid",children:[(0,fy.jsx)(bw,{title:"Total Tareas",value:S.total,icon:"\ud83d\udcdd",color:"var(--gradient)"}),(0,fy.jsx)(bw,{title:"Completadas",value:S.completed,icon:"\u2705",color:"var(--gradient-alt)",trend:S.completionRate>70?15:-5}),(0,fy.jsx)(bw,{title:"Hoy",value:"".concat(S.todayCompleted,"/").concat(S.todayTasks),icon:"\ud83c\udfaf",color:"var(--secondary)"}),(0,fy.jsx)(bw,{title:"Eficiencia",value:"".concat(S.completionRate,"%"),icon:"\u26a1",color:"var(--success)",trend:S.completionRate>80?12:-3})]}),(0,fy.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem",marginBottom:"2rem"},children:[(0,fy.jsx)(Tw,{tasks:e}),(0,fy.jsx)(_w,{tasks:e})]})]}),"tasks"===h&&(0,fy.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"2rem",alignItems:"start"},children:[(0,fy.jsxs)("div",{className:"card",children:[(0,fy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,fy.jsx)("h2",{style:{fontSize:"1.25rem",margin:0},children:"\u2728 Nueva Tarea"}),(0,fy.jsx)("button",{className:"btn btn-icon btn-primary",onClick:()=>c(!u),title:"Agregar r\xe1pido",children:"+"})]}),(0,fy.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),n.trim())try{await ay(iv(dy,"tasks"),{text:n,completed:!1,date:s,priority:o,userId:hy.currentUser.uid,createdAt:new Date}),r(""),c(!1)}catch(t){console.error("Error adding task:",t)}},children:[(0,fy.jsx)("div",{className:"form-group",children:(0,fy.jsx)("input",{type:"text",placeholder:"\xbfQu\xe9 quieres lograr hoy?",value:n,onChange:e=>r(e.target.value),style:{fontSize:"1rem",padding:"1rem"}})}),(0,fy.jsxs)("div",{className:"form-group",children:[(0,fy.jsx)("label",{style:{fontSize:"0.9rem",fontWeight:"500"},children:"Prioridad"}),(0,fy.jsxs)("select",{value:o,onChange:e=>l(e.target.value),style:{padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--border)",width:"100%"},children:[(0,fy.jsx)("option",{value:"low",children:"\ud83d\udfe2 Baja"}),(0,fy.jsx)("option",{value:"medium",children:"\ud83d\udfe1 Media"}),(0,fy.jsx)("option",{value:"high",children:"\ud83d\udd34 Alta"})]})]}),(0,fy.jsx)("button",{type:"submit",className:"btn btn-primary",style:{width:"100%"},children:"\ud83d\ude80 Agregar Tarea"})]}),(0,fy.jsxs)("div",{style:{marginTop:"2rem"},children:[(0,fy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,fy.jsx)("h3",{style:{fontSize:"1.1rem",margin:0},children:"\ud83d\udccb Mis Tareas"}),(0,fy.jsx)("input",{type:"text",placeholder:"\ud83d\udd0d Buscar...",value:f,onChange:e=>p(e.target.value),style:{padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid var(--border)",width:"150px",fontSize:"0.9rem"}})]}),(0,fy.jsxs)("div",{style:{maxHeight:"400px",overflowY:"auto"},children:[E().slice(0,10).map(e=>(0,fy.jsxs)("div",{className:"task ".concat(e.completed?"completed":""),children:[(0,fy.jsx)("div",{className:"task-priority ".concat(e.priority||"medium")}),(0,fy.jsx)("input",{type:"checkbox",checked:e.completed,onChange:()=>m(e.id,e.completed),style:{marginRight:"0.75rem"}}),(0,fy.jsx)("span",{className:"task-text",style:{flex:1,fontSize:"0.95rem"},children:e.text}),(0,fy.jsx)("span",{style:{fontSize:"0.8rem",color:"var(--text-light)",marginRight:"0.5rem"},children:"high"===e.priority?"\ud83d\udd34":"low"===e.priority?"\ud83d\udfe2":"\ud83d\udfe1"}),(0,fy.jsx)("button",{onClick:()=>g(e.id),className:"btn btn-icon",style:{background:"var(--danger)",color:"white",fontSize:"0.8rem",width:"30px",height:"30px"},children:"\xd7"})]},e.id)),0===E().length&&(0,fy.jsxs)("div",{style:{textAlign:"center",padding:"3rem 1rem",color:"var(--text-light)"},children:[(0,fy.jsx)("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"\ud83c\udfaf"}),(0,fy.jsx)("p",{children:"\xa1Perfecto! No tienes tareas pendientes."}),(0,fy.jsx)("p",{style:{fontSize:"0.9rem"},children:"Es momento de agregar nuevos objetivos."})]})]})]})]}),(0,fy.jsxs)("div",{className:"card",children:[(0,fy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,fy.jsx)("button",{onClick:()=>a(new Date(s.getFullYear(),s.getMonth()-1)),className:"btn btn-secondary",children:"\u2190 Anterior"}),(0,fy.jsxs)("div",{style:{textAlign:"center"},children:[(0,fy.jsxs)("h2",{style:{margin:0},children:["\ud83d\udcc5 ",dw(s,"MMMM yyyy",{locale:ww})]}),(0,fy.jsx)("button",{onClick:()=>a(new Date),className:"btn btn-secondary",style:{fontSize:"0.8rem",padding:"0.25rem 0.5rem",marginTop:"0.25rem"},children:"Hoy"})]}),(0,fy.jsx)("button",{onClick:()=>a(new Date(s.getFullYear(),s.getMonth()+1)),className:"btn btn-secondary",children:"Siguiente \u2192"})]}),(0,fy.jsxs)("div",{className:"calendar",children:[["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"].map(e=>(0,fy.jsx)("div",{style:{padding:"0.75rem",textAlign:"center",fontWeight:"600",background:"var(--gradient)",color:"white",fontSize:"0.9rem"},children:e},e)),w.map(e=>{const t=b(e),n=by(e,s);return(0,fy.jsxs)("div",{className:"calendar-day ".concat(fw(e)?"today":n?"selected":""),onClick:()=>a(e),children:[(0,fy.jsx)("div",{style:{fontWeight:fw(e)?"700":"normal",marginBottom:"0.5rem"},children:dw(e,"d")}),(0,fy.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"2px"},children:[t.slice(0,4).map((e,t)=>(0,fy.jsx)("div",{className:"task-dot",title:e.text,style:{background:"high"===e.priority?"var(--danger)":"low"===e.priority?"var(--success)":"var(--secondary)"}},t)),t.length>4&&(0,fy.jsxs)("div",{style:{fontSize:"0.7rem",color:"var(--text-light)",fontWeight:"600"},children:["+",t.length-4]})]})]},e.toString())})]})]})]}),"calendar"===h&&(0,fy.jsxs)("div",{className:"card",children:[(0,fy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[(0,fy.jsx)("button",{onClick:()=>a(new Date(s.getFullYear(),s.getMonth()-1)),className:"btn btn-secondary",children:"\u2190 Anterior"}),(0,fy.jsxs)("h2",{style:{textAlign:"center",margin:0},children:["\ud83d\udcc5 ",dw(s,"MMMM yyyy",{locale:ww})]}),(0,fy.jsx)("button",{onClick:()=>a(new Date(s.getFullYear(),s.getMonth()+1)),className:"btn btn-secondary",children:"Siguiente \u2192"})]}),(0,fy.jsxs)("div",{className:"calendar",style:{marginBottom:"2rem"},children:[["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"].map(e=>(0,fy.jsx)("div",{style:{padding:"1rem",textAlign:"center",fontWeight:"600",background:"var(--gradient)",color:"white"},children:e},e)),w.map(e=>{const t=b(e),n=by(e,s);return(0,fy.jsxs)("div",{className:"calendar-day ".concat(fw(e)?"today":n?"selected":""),onClick:()=>a(e),style:{minHeight:"140px"},children:[(0,fy.jsx)("div",{style:{fontWeight:fw(e)?"700":"normal",marginBottom:"0.5rem"},children:dw(e,"d")}),(0,fy.jsxs)("div",{children:[t.slice(0,3).map((e,t)=>(0,fy.jsx)("div",{style:{fontSize:"0.7rem",padding:"2px 4px",margin:"1px 0",borderRadius:"2px",background:e.completed?"var(--success-light)":"high"===e.priority?"var(--danger)":"low"===e.priority?"var(--success)":"var(--secondary)",color:"white",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:e.text,children:e.text},t)),t.length>3&&(0,fy.jsxs)("div",{style:{fontSize:"0.7rem",color:"var(--text-light)",fontWeight:"600"},children:["+",t.length-3," m\xe1s"]})]})]},e.toString())})]}),(0,fy.jsxs)("div",{className:"card",style:{background:"var(--surface-alt)"},children:[(0,fy.jsxs)("h3",{style:{marginBottom:"1rem"},children:["\ud83d\udccb Tareas para ",dw(s,"dd MMMM yyyy",{locale:ww})]}),0===b(s).length?(0,fy.jsx)("p",{style:{color:"var(--text-light)",textAlign:"center",padding:"2rem"},children:"No hay tareas programadas para este d\xeda"}):b(s).map(e=>(0,fy.jsxs)("div",{className:"task ".concat(e.completed?"completed":""),children:[(0,fy.jsx)("div",{className:"task-priority ".concat(e.priority||"medium")}),(0,fy.jsx)("input",{type:"checkbox",checked:e.completed,onChange:()=>m(e.id,e.completed)}),(0,fy.jsx)("span",{style:{flex:1},children:e.text}),(0,fy.jsx)("button",{onClick:()=>g(e.id),className:"btn btn-icon",style:{background:"var(--danger)",color:"white"},children:"\xd7"})]},e.id))]})]}),"analytics"===h&&(0,fy.jsx)("div",{children:(0,fy.jsx)(Tw,{tasks:e})}),"goals"===h&&(0,fy.jsx)("div",{children:(0,fy.jsx)(_w,{tasks:e})}),(0,fy.jsx)("button",{className:"fab",onClick:()=>{d("tasks"),c(!0)},title:"Agregar tarea r\xe1pida",children:"+"})]})};const Iw=function(){const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{const e=function(e,t,n,r){return tt(e).onAuthStateChanged(t,n,r)}(hy,e=>{t(e),r(!1)});return()=>e()},[]),n?(0,fy.jsx)("div",{className:"loading",children:"Cargando..."}):(0,fy.jsx)(Ce,{basename:"/Arch",children:(0,fy.jsxs)(be,{children:[(0,fy.jsx)(ye,{path:"/",element:e?(0,fy.jsx)(ve,{to:"/dashboard"}):(0,fy.jsx)(my,{})}),(0,fy.jsx)(ye,{path:"/login",element:e?(0,fy.jsx)(ve,{to:"/dashboard"}):(0,fy.jsx)(my,{})}),(0,fy.jsx)(ye,{path:"/register",element:e?(0,fy.jsx)(ve,{to:"/dashboard"}):(0,fy.jsx)(gy,{})}),(0,fy.jsx)(ye,{path:"/dashboard",element:e?(0,fy.jsx)(Cw,{}):(0,fy.jsx)(ve,{to:"/login"})})]})})};a.createRoot(document.getElementById("root")).render((0,fy.jsx)(Iw,{}))})();
//# sourceMappingURL=main.7a741dcb.js.map